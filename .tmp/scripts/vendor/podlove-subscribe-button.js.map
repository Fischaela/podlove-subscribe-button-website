{"version":3,"names":[],"mappings":"","sources":["vendor/podlove-subscribe-button.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar $, Button, Colors, IframeClick, IframeResizer, Popup, SubscribeButton, Translations, Utils, _,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\n$ = require('../../vendor/zepto-browserify.js').Zepto;\n\n_ = require('../../vendor/underscore-min.js');\n\nButton = require('./button.coffee');\n\nPopup = require('./popup.coffee');\n\nUtils = require('./utils.coffee');\n\nIframeResizer = require('./iframe_resizer.coffee');\n\nIframeClick = require('./iframe_click.coffee');\n\nColors = require('./colors.coffee');\n\nTranslations = require('./translations.coffee');\n\nSubscribeButton = (function() {\n  SubscribeButton.init = function(selector) {\n    var elem, elems, i, len, subscribeButtons;\n    if (selector == null) {\n      selector = '.podlove-subscribe-button';\n    }\n    subscribeButtons = [];\n    elems = $(selector);\n    if (elems.length === 0) {\n      return;\n    }\n    for (i = 0, len = elems.length; i < len; i++) {\n      elem = elems[i];\n      subscribeButtons.push(new SubscribeButton(elem));\n    }\n    return window.subscribeButtons = subscribeButtons;\n  };\n\n  function SubscribeButton(scriptElem) {\n    this.openPopup = bind(this.openPopup, this);\n    this.scriptElem = $(scriptElem);\n    this.getOptions();\n    this.checkForValidLanguage();\n    this.getPodcastData();\n    this.checkIntegrity();\n    this.addCss();\n    this.renderButtonIframe();\n    return this;\n  }\n\n  SubscribeButton.prototype.update = function() {\n    return this.getPodcastData();\n  };\n\n  SubscribeButton.prototype.getOptions = function() {\n    var defaultOptions, options;\n    defaultOptions = {\n      size: 'medium',\n      style: 'filled',\n      format: 'rectangle'\n    };\n    options = {\n      scriptPath: this.scriptElem.attr('src').match(/(^.*\\/)/)[0].replace(/javascripts\\/$/, '').replace(/\\/$/, ''),\n      language: this.scriptElem.data('language'),\n      size: this.scriptElem.data('size'),\n      buttonId: this.scriptElem.data('buttonid'),\n      hide: this.scriptElem.data('hide'),\n      style: this.scriptElem.data('style'),\n      format: this.scriptElem.data('format')\n    };\n    if (this.scriptElem.data('color')) {\n      options.color = new Colors(this.scriptElem.data('color'));\n    } else {\n      options.color = new Colors(this.scriptElem.data('colors'));\n    }\n    if (options.size.indexOf('-logo') >= 0) {\n      options.size = options.size.replace('-logo', '');\n      options.format = 'cover';\n    }\n    return this.options = $.extend(defaultOptions, options);\n  };\n\n  SubscribeButton.prototype.checkForValidLanguage = function() {\n    var translations;\n    translations = new Translations(this.options.language);\n    if (!translations.supportsLanguage()) {\n      return this.options.language = Translations.defaultLanguage;\n    }\n  };\n\n  SubscribeButton.prototype.getPodcastData = function() {\n    var dataSource, jsonUrl;\n    if (jsonUrl = this.scriptElem.data('json-url')) {\n      this.fetchPodcastDataFromUrl(jsonUrl);\n    }\n    if (dataSource = this.scriptElem.data('json-data')) {\n      return this.extractPodcastDataFromJson(window[dataSource]);\n    }\n  };\n\n  SubscribeButton.prototype.fetchPodcastDataFromUrl = function() {};\n\n  SubscribeButton.prototype.extractPodcastDataFromJson = function(data) {\n    return this.podcast = data;\n  };\n\n  SubscribeButton.prototype.checkIntegrity = function() {\n    var text;\n    if (this.podcast.feeds.length === 0) {\n      text = \"Subscribe Button Error. Please add at least one feed.\";\n      console.warn(text);\n      return window.alert(text);\n    }\n  };\n\n  SubscribeButton.prototype.renderButtonIframe = function() {\n    var iframe;\n    iframe = this.iframe();\n    if (this.options.hide) {\n      $(iframe).hide();\n    }\n    return this.scriptElem.replaceWith(iframe);\n  };\n\n  SubscribeButton.prototype.addCss = function() {\n    var link;\n    link = $(\"<link rel='stylesheet' href='\" + this.options.scriptPath + \"/stylesheets/app.css'></script>\");\n    this.scriptElem.after(link);\n    return link.after(this.options.color.toStyles());\n  };\n\n  SubscribeButton.prototype.iframe = function() {\n    var buttonUrl, iframe, podcastTitle;\n    this.options.id = Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n    podcastTitle = escape(this.podcast.title);\n    buttonUrl = this.options.scriptPath + \"/button.html?id=\" + this.options.id + \"&language=\" + this.options.language + \"&size=\" + this.options.size + \"&style=\" + this.options.style + \"&format=\" + this.options.format + \"&podcastTitle=\" + podcastTitle + \"&podcastCover=\" + this.podcast.cover + (this.options.color.toParams());\n    iframe = $('<iframe>').attr('src', encodeURI(buttonUrl)).attr('id', this.options.id).addClass('podlove-subscribe-button-iframe').css({\n      border: 'none',\n      display: 'inline-block',\n      overflow: 'hidden'\n    });\n    IframeResizer.listen('resizeButton', iframe);\n    IframeClick.listen(iframe, this.openPopup, this.options);\n    if (this.options.buttonId) {\n      $(\".podlove-subscribe-button-\" + this.options.buttonId).on('click', (function(_this) {\n        return function() {\n          return _this.openPopup(_this.options);\n        };\n      })(this));\n    }\n    return iframe;\n  };\n\n  SubscribeButton.prototype.openPopup = function(options) {\n    return new Popup(this.podcast, options);\n  };\n\n  return SubscribeButton;\n\n})();\n\nwindow.SubscribeButton = SubscribeButton;\n\nwindow.Button = Button;\n\n$(function() {\n  return SubscribeButton.init();\n});\n\n\n\n},{\"../../vendor/underscore-min.js\":17,\"../../vendor/zepto-browserify.js\":18,\"./button.coffee\":2,\"./colors.coffee\":5,\"./iframe_click.coffee\":7,\"./iframe_resizer.coffee\":8,\"./popup.coffee\":11,\"./translations.coffee\":12,\"./utils.coffee\":14}],2:[function(require,module,exports){\nvar $, Button, Colors, Translations, Utils;\n\n$ = require('../../vendor/zepto-browserify.js').Zepto;\n\nUtils = require('./utils.coffee');\n\nTranslations = require('./translations.coffee');\n\nColors = require('./colors.coffee');\n\nButton = (function() {\n  function Button() {\n    this.getOptions();\n    this.I18n = new Translations(this.options.language);\n    this.elem = $('#podlove-subscribe-button');\n    if (/auto/.test(this.options.size)) {\n      this.autoSize = true;\n    }\n    this.addFormat();\n    this.addStyle();\n    this.render();\n    window.setTimeout((function(_this) {\n      return function() {\n        return _this.resizeIframe();\n      };\n    })(this), 10);\n  }\n\n  Button.prototype.render = function() {\n    var image;\n    this.elem.addClass(this.options.size.replace('%20', ' '));\n    this.elem.prop('title', this.I18n.t('button'));\n    this.elem.on('click', (function(_this) {\n      return function(event) {\n        return window.parent.postMessage(\"clicked_\" + _this.options.id, '*');\n      };\n    })(this));\n    if (this.buttonHtml) {\n      this.elem.html(this.buttonHtml);\n    }\n    if (this.logoElem) {\n      image = \"<img src='\" + this.options.podcastCover + \"' alt='Logo of \" + this.options.podcastTitle + \"'>\";\n      this.logoElem.html(image);\n      this.logoElem.on('click', (function(_this) {\n        return function(event) {\n          return window.parent.postMessage(\"clicked_\" + _this.options.id, '*');\n        };\n      })(this));\n    }\n    return this.setColors();\n  };\n\n  Button.prototype.setColors = function() {\n    var colors;\n    colors = Colors.fromParams(this.options);\n    return this.elem.after(colors.toStyles());\n  };\n\n  Button.prototype.getOptions = function() {\n    return this.options = Utils.locationToOptions(window.location.search);\n  };\n\n  Button.prototype.addFormat = function() {\n    if (this.options.format !== 'square') {\n      this.buttonHtml = \"<span>\" + (this.I18n.t('button')) + \"</span>\";\n    } else if (this.options.format === 'square') {\n      this.elem.addClass('square');\n    }\n    if (this.options.format === 'cover') {\n      return this.logoElem = $('#podlove-subscribe-button-logo');\n    }\n  };\n\n  Button.prototype.addStyle = function() {\n    if (this.options.style === 'frameless') {\n      return this.elem.addClass('frameless');\n    } else if (this.options.style === 'outline') {\n      return this.elem.addClass('outline');\n    }\n  };\n\n  Button.prototype.resizeIframe = function() {\n    var height, img, resize, showImage, width;\n    resize = (function(_this) {\n      return function(height, width) {\n        var resizeData;\n        resizeData = JSON.stringify({\n          id: _this.options.id,\n          listenTo: 'resizeButton',\n          height: height,\n          width: width\n        });\n        return window.parent.postMessage(resizeData, '*');\n      };\n    })(this);\n    height = this.elem.height();\n    width = this.autoSize && !this.logoElem ? '100%' : this.elem.width();\n    if (this.logoElem) {\n      img = this.logoElem.find('img');\n      showImage = (function(_this) {\n        return function() {\n          _this.logoElem.height(width);\n          height += width;\n          _this.logoElem.show();\n          return resize(height, width);\n        };\n      })(this);\n      if (!img[0].complete) {\n        return img.on('load', showImage);\n      } else {\n        return showImage();\n      }\n    } else {\n      return resize(height, width);\n    }\n  };\n\n  return Button;\n\n})();\n\nmodule.exports = Button;\n\n\n\n},{\"../../vendor/zepto-browserify.js\":18,\"./colors.coffee\":5,\"./translations.coffee\":12,\"./utils.coffee\":14}],3:[function(require,module,exports){\nvar Clients;\n\nClients = (function() {\n  function Clients(platform, osDefault) {\n    if (osDefault == null) {\n      osDefault = false;\n    }\n    if (osDefault) {\n      return this['os_defaults'][platform];\n    }\n    return this[platform];\n  }\n\n  Clients.prototype.printClientList = function() {\n    var i, item, j, len, len1, platform, ref, ref1, results, url;\n    ref = ['Android', 'Cloud', 'iOS', 'Linux', 'OSX', 'WindowsPhone', 'Windows7', 'Windows8', 'Windows81'];\n    results = [];\n    for (i = 0, len = ref.length; i < len; i++) {\n      platform = ref[i];\n      console.log(\"### \" + platform);\n      ref1 = this[platform.toLowerCase()];\n      for (j = 0, len1 = ref1.length; j < len1; j++) {\n        item = ref1[j];\n        url = item.register || item.store || item.install;\n        console.log(\"  * [\" + item.title + \"](\" + url + \")\");\n      }\n      results.push(console.log(\"\"));\n    }\n    return results;\n  };\n\n  Clients.prototype.rss = {\n    title: 'Other (Feed URL)',\n    icon: 'generic/rss.png'\n  };\n\n  Clients.prototype.os_defaults = {\n    android: {\n      scheme: 'pcast:',\n      icon: 'generic/android.png'\n    },\n    windows8: {\n      scheme: 'pcast:',\n      icon: 'generic/windows8.png'\n    },\n    windowsphone: {\n      scheme: 'pcast:',\n      icon: 'generic/windowsphone.png'\n    }\n  };\n\n  Clients.prototype.cloud = [\n    {\n      title: 'gpodder.net',\n      scheme: 'http://gpodder.net/subscribe?url=',\n      icon: 'cloud/gpoddernet.png',\n      register: 'https://gpodder.net/',\n      http: true\n    }, {\n      title: 'Player.fm',\n      scheme: 'https://player.fm/subscribe?id=',\n      icon: 'cloud/playerfm.png',\n      register: 'https://player.fm/',\n      http: true\n    }, {\n      title: 'Pocket Casts',\n      scheme: 'http://pcasts.in/feed/',\n      icon: 'cloud/pocketcasts.png',\n      register: 'https://play.pocketcasts.com/',\n      http: false\n    }\n  ];\n\n  Clients.prototype.android = [\n    {\n      title: 'AntennaPod',\n      scheme: 'antennapod-subscribe://',\n      icon: 'android/antennapod.png',\n      store: 'https://play.google.com/store/apps/details?id=de.danoeh.antennapod'\n    }, {\n      title: 'BeyondPod',\n      scheme: 'beyondpod://',\n      icon: 'android/beyondpod.png',\n      store: 'https://play.google.com/store/apps/details?id=mobi.beyondpod'\n    }, {\n      title: 'Player.fm',\n      scheme: 'https://player.fm/subscribe?id=',\n      icon: 'android/playerfm.png',\n      store: 'https://play.google.com/store/apps/details?id=fm.player'\n    }, {\n      title: 'Podcast Addict',\n      scheme: 'podcastaddict://',\n      icon: 'android/podcastaddict.png',\n      store: 'https://play.google.com/store/apps/details?id=com.bambuna.podcastaddict'\n    }, {\n      title: 'Podcatcher Deluxe',\n      scheme: 'pcd://',\n      icon: 'android/podcatcher-deluxe.png',\n      store: 'https://play.google.com/store/search?q=pub:Kevin%20Hausmann'\n    }, {\n      title: 'Podkicker',\n      scheme: 'podkicker://subscribe/',\n      icon: 'android/podkicker.png',\n      store: 'https://play.google.com/store/apps/details?id=ait.podka'\n    }, {\n      title: 'uPod',\n      scheme: 'upod://',\n      icon: 'android/upod.png',\n      store: 'https://play.google.com/store/apps/details?id=mobi.upod.app'\n    }\n  ];\n\n  Clients.prototype.ios = [\n    {\n      title: 'Castro',\n      scheme: 'castro://subscribe/',\n      icon: 'ios/castro.png',\n      store: 'https://itunes.apple.com/de/app/castro-high-fidelity-podcasts/id723142770'\n    }, {\n      title: 'Downcast',\n      scheme: 'downcast://',\n      icon: 'ios/downcast.png',\n      store: 'https://itunes.apple.com/de/app/downcast/id393858566'\n    }, {\n      title: 'iCatcher',\n      scheme: 'icatcher://',\n      icon: 'ios/icatcher.png',\n      store: 'https://itunes.apple.com/de/app/icatcher!-podcast-app/id414419105'\n    }, {\n      title: 'Instacast',\n      scheme: 'instacast://',\n      icon: 'ios/instacast.png',\n      store: 'https://itunes.apple.com/de/app/instacast-4-podcast-client/id577056377'\n    }, {\n      title: 'Overcast',\n      scheme: 'overcast://x-callback-url/add?url=',\n      icon: 'ios/overcast.png',\n      store: 'https://itunes.apple.com/de/app/overcast-podcast-player/id888422857'\n    }, {\n      title: 'PocketCasts',\n      scheme: 'pktc://subscribe/',\n      icon: 'ios/pocketcasts.png',\n      store: 'https://itunes.apple.com/de/app/pocket-casts/id414834813'\n    }, {\n      title: 'Podcasts',\n      scheme: 'pcast://',\n      icon: 'ios/podcasts.png',\n      store: 'https://itunes.apple.com/de/app/podcasts/id525463029'\n    }, {\n      title: 'Podcat',\n      scheme: 'podcat://',\n      icon: 'ios/podcat.png',\n      store: 'https://itunes.apple.com/app/podcat/id845960230'\n    }, {\n      title: 'PodGrasp',\n      scheme: 'podgrasp://subscribe/',\n      icon: 'ios/podgrasp.png',\n      store: 'https://itunes.apple.com/de/app/podgrasp-podcast-player/id531648276'\n    }, {\n      title: 'RSSRadio',\n      scheme: 'rssradio://',\n      icon: 'ios/rssradio.png',\n      store: 'https://itunes.apple.com/app/rssradio-premium-podcast-downloader/id679025359'\n    }\n  ];\n\n  Clients.prototype.linux = [\n    {\n      title: 'Clementine',\n      scheme: 'itpc://',\n      icon: 'linux/clementine.png'\n    }, {\n      title: 'gPodder',\n      scheme: 'gpodder://',\n      icon: 'linux/gpodder.png',\n      install: 'http://gpodder.org/downloads'\n    }\n  ];\n\n  Clients.prototype.osx = [\n    {\n      title: 'Downcast',\n      scheme: 'downcast://',\n      icon: 'osx/downcast.png',\n      store: 'https://itunes.apple.com/de/app/downcast/id668429425?mt=12&uo=4'\n    }, {\n      title: 'Instacast',\n      scheme: 'instacast://',\n      icon: 'osx/instacast.png',\n      store: 'https://itunes.apple.com/de/app/instacast/id733258666?mt=12&uo=4'\n    }, {\n      title: 'iTunes',\n      scheme: 'itpc://',\n      icon: 'osx/itunes.png',\n      install: 'http://www.apple.com/itunes/',\n      customFeedType: 'itunes'\n    }, {\n      title: 'PodGrasp',\n      scheme: 'podgrasp://subscribe/',\n      icon: 'osx/podgrasp.png',\n      store: 'https://itunes.apple.com/de/app/podgrasp-podcast-player/id530928805'\n    }\n  ];\n\n  Clients.prototype.windowsphone = [\n    {\n      title: 'BringCast',\n      scheme: 'bringcast://subscribe/',\n      icon: 'windowsphone/bringcast.png',\n      store: 'http://windowsphone.com/s?appId=e5abef38-d413-e011-9264-00237de2db9e'\n    }, {\n      title: 'gramocast',\n      scheme: 'gramocast://subscribe/',\n      icon: 'windowsphone/gramocast.png',\n      store: 'http://windowsphone.com/s?appId=ebb52054-5071-4aa4-9537-00399d06a99e'\n    }, {\n      title: 'Podcast Lounge',\n      scheme: 'podcastlounge://subscribe/',\n      icon: 'windowsphone/podcastlounge.png',\n      store: 'http://windowsphone.com/s?appId=83bc0329-8e02-410e-b6d2-da3c0c1d971d'\n    }, {\n      title: 'Podcast Picker',\n      scheme: 'podcastpicker://',\n      icon: 'windowsphone/podcastpicker.png',\n      store: 'http://windowsphone.com/s?appId=79b72069-b656-47d2-bab1-fa2d4061825e'\n    }, {\n      title: 'Podcasts',\n      scheme: 'podcast:',\n      icon: 'windowsphone/podcasts.png'\n    }\n  ];\n\n  Clients.prototype.windows7 = [\n    {\n      title: 'gPodder',\n      scheme: 'gpodder://',\n      icon: 'windows/gpodder.png',\n      install: 'http://gpodder.org/downloads'\n    }, {\n      title: 'iTunes',\n      scheme: 'itpc://',\n      icon: 'osx/itunes.png',\n      install: 'http://www.apple.com/itunes/',\n      customFeedType: 'itunes-url'\n    }\n  ];\n\n  Clients.prototype.windows8 = [\n    {\n      title: 'gPodder',\n      scheme: 'gpodder://',\n      icon: 'windows/gpodder.png',\n      install: 'http://gpodder.org/downloads'\n    }, {\n      title: 'iTunes',\n      scheme: 'itpc://',\n      icon: 'osx/itunes.png',\n      install: 'http://www.apple.com/itunes/',\n      customFeedType: 'itunes-url'\n    }, {\n      title: 'Podscout',\n      scheme: 'podscout://',\n      icon: 'windows/podscout.png',\n      store: 'http://apps.microsoft.com/windows/de-de/app/podscout/f4316b46-7682-4cea-948b-53d135b2df17'\n    }\n  ];\n\n  Clients.prototype.windows81 = [\n    {\n      title: 'gPodder',\n      scheme: 'gpodder://',\n      icon: 'windows/gpodder.png',\n      install: 'http://gpodder.org/downloads'\n    }, {\n      title: 'iTunes',\n      scheme: 'itpc://',\n      icon: 'osx/itunes.png',\n      install: 'http://www.apple.com/itunes/',\n      customFeedType: 'itunes-url'\n    }, {\n      title: 'Podscout',\n      scheme: 'podscout://',\n      icon: 'windows/podscout.png',\n      store: 'http://apps.microsoft.com/windows/de-de/app/podscout/f4316b46-7682-4cea-948b-53d135b2df17'\n    }\n  ];\n\n  Clients.prototype.windows10 = [\n    {\n      title: 'gPodder',\n      scheme: 'gpodder://',\n      icon: 'windows/gpodder.png',\n      install: 'http://gpodder.org/downloads'\n    }, {\n      title: 'iTunes',\n      scheme: 'itpc://',\n      icon: 'osx/itunes.png',\n      install: 'http://www.apple.com/itunes/',\n      customFeedType: 'itunes-url'\n    }, {\n      title: 'Podscout',\n      scheme: 'podscout://',\n      icon: 'windows/podscout.png',\n      store: 'http://apps.microsoft.com/windows/de-de/app/podscout/f4316b46-7682-4cea-948b-53d135b2df17'\n    }\n  ];\n\n  Clients.prototype.blackBerry = [];\n\n  return Clients;\n\n})();\n\nmodule.exports = Clients;\n\n\n\n},{}],4:[function(require,module,exports){\nvar $, Clients, ClientsPanel, Handlebars, Panel, Utils, _,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\n$ = require('../../vendor/zepto-browserify.js').Zepto;\n\nHandlebars = require('../../vendor/handlebars.min.js').Handlebars;\n\n_ = require('../../vendor/underscore-min.js');\n\nUtils = require('./utils.coffee');\n\nClients = require('./clients.coffee');\n\nPanel = require('./panel.coffee');\n\nClientsPanel = (function(superClass) {\n  extend(ClientsPanel, superClass);\n\n  function ClientsPanel(container, parent) {\n    var text;\n    this.container = container;\n    this.parent = parent;\n    this.findCustomFeed = bind(this.findCustomFeed, this);\n    this.podcast = this.parent.podcast;\n    this.platform = this.parent.platform;\n    this.clients = new Clients(this.platform);\n    this.osDefault = new Clients(this.platform, true);\n    this.cloudClients = new Clients('cloud');\n    if (this.prepareClients(this.parent.options.scriptPath)) {\n      this.render();\n    } else {\n      text = 'No usable feed found. Please add at least one feed.';\n      console.warn(text);\n    }\n  }\n\n  ClientsPanel.prototype.context = function() {\n    return {\n      cover: this.podcast.cover,\n      title: this.podcast.title,\n      subtitle: this.podcast.subtitle,\n      clients: this.clients,\n      platform: this.platform,\n      otherClient: this.otherClient,\n      cloudClients: this.cloudClients,\n      osDefault: this.osDefault,\n      scriptPath: this.parent.options.scriptPath,\n      podcastTitle: this.podcast.title,\n      podcastSubtitle: this.podcast.subtitle,\n      podcastCover: this.podcast.cover\n    };\n  };\n\n  ClientsPanel.prototype.detectBestFormat = function() {\n    var capabilities;\n    capabilities = this.platform === 'android' ? ['mp3', 'aac', 'ogg', 'opus'] : ['aac', 'mp3', 'ogg', 'opus'];\n    return _(capabilities).find((function(_this) {\n      return function(cap) {\n        return _(_this.podcast.feeds).findWhere({\n          format: cap\n        });\n      };\n    })(this));\n  };\n\n  ClientsPanel.prototype.chooseFeed = function() {\n    var feed, format;\n    format = this.detectBestFormat();\n    return feed = _(this.podcast.feeds).findWhere({\n      format: format\n    });\n  };\n\n  ClientsPanel.prototype.findCustomFeed = function(type) {\n    return (_(this.podcast.feeds).findWhere({\n      type: type\n    }) || {}).url;\n  };\n\n  ClientsPanel.prototype.prepareClients = function(pathPrefix) {\n    var client, cloudFeedUrl, customUrl, feed, feedUrlWithOutHttp, i, j, len, len1, ref, ref1, standardUrl, type;\n    feed = this.chooseFeed() || {};\n    feedUrlWithOutHttp = feed.url.replace(/^(http|https):\\/\\//, '');\n    if (!feed.url) {\n      return false;\n    }\n    ref = this.clients;\n    for (i = 0, len = ref.length; i < len; i++) {\n      client = ref[i];\n      Utils.fixIconPath(client, pathPrefix);\n      standardUrl = \"\" + client.scheme + feedUrlWithOutHttp;\n      client.url = (type = client.customFeedType) ? (customUrl = feed[\"directory-url-\" + type]) ? customUrl : standardUrl : standardUrl;\n    }\n    _(this.clients).shuffle();\n    ref1 = this.cloudClients;\n    for (j = 0, len1 = ref1.length; j < len1; j++) {\n      client = ref1[j];\n      Utils.fixIconPath(client, pathPrefix);\n      cloudFeedUrl = client.http ? feed.url : feedUrlWithOutHttp;\n      if (client.post) {\n        client.url = client.scheme;\n        client.feedUrl = cloudFeedUrl;\n      } else {\n        client.url = \"\" + client.scheme + cloudFeedUrl;\n      }\n    }\n    _(this.cloudClients).shuffle();\n    Utils.fixIconPath(this.osDefault, pathPrefix);\n    this.osDefault.title = 'Let device decide';\n    this.osDefault.originalUrl = feed.url;\n    if (this.osDefault.scheme !== null) {\n      this.osDefault.url = \"\" + this.osDefault.scheme + feedUrlWithOutHttp;\n      this.osDefault.scheme = null;\n    }\n    this.otherClient = new Clients('rss');\n    Utils.fixIconPath(this.otherClient, pathPrefix);\n    return this.otherClient.originalUrl = feed.url;\n  };\n\n  ClientsPanel.prototype.render = function() {\n    var form;\n    this.elem = $(this.template(this.context()));\n    this.container.append(this.elem);\n    this.elem.find('li a').on('click', (function(_this) {\n      return function(event) {\n        var client, platform, url;\n        client = $(event.target).data('client');\n        platform = $(event.target).data('platform');\n        url = $(event.target).attr('href');\n        return _this.showClient(client, platform, url);\n      };\n    })(this));\n    this.elem.find('.podlove-subscribe-local').on('click', (function(_this) {\n      return function(event) {\n        _this.elem.find('.local-clients').show();\n        _this.elem.find('.cloud-clients').hide();\n        $(event.target).addClass('active');\n        return $(event.target).next().removeClass('active');\n      };\n    })(this));\n    this.elem.find('.podlove-subscribe-cloud').on('click', (function(_this) {\n      return function(event) {\n        _this.elem.find('.local-clients').hide();\n        _this.elem.find('.cloud-clients').show();\n        $(event.target).addClass('active');\n        return $(event.target).prev().removeClass('active');\n      };\n    })(this));\n    form = this.elem.find('li form');\n    if (form.length) {\n      form.find('a').off('click');\n      return form.find('a').on('click', (function(_this) {\n        return function(event) {\n          var client, platform, url;\n          event.preventDefault();\n          form.submit();\n          client = $(event.target).data('client');\n          platform = $(event.target).data('platform');\n          url = $(event.target).attr('href');\n          return _this.showClient(client, platform, url);\n        };\n      })(this));\n    }\n  };\n\n  ClientsPanel.prototype.showClient = function(clientTitle, platform, url) {\n    var client;\n    this.parent.movePanels(2);\n    client = clientTitle === 'rss' ? this.otherClient : platform === 'cloud' ? _(this.cloudClients).findWhere({\n      title: clientTitle\n    }) : _(this.clients).findWhere({\n      title: clientTitle\n    });\n    if (client == null) {\n      client = this.osDefault;\n    }\n    return this.parent.finishPanel.render(client, this.podcast);\n  };\n\n  ClientsPanel.prototype.template = Handlebars.compile('<div> <div class=\"device-cloud-switch\"> <button class=\"podlove-subscribe-local active\">{{t \"clients_panel.app\"}}<span class=\"podlove-subscribe-tab-active\"></span></button><!-- --><button class=\"podlove-subscribe-cloud\">{{t \"clients_panel.cloud\"}}<span class=\"podlove-subscribe-tab-active\"></span></button> </div> <div class=\"client-list\"> <ul class=\"local-clients\"> {{#if osDefault.icon}} <li> <a href=\"{{osDefault.url}}\" data-client=\"{{osDefault.title}}\" target=\"_blank\"> <img src=\"{{osDefault.icon}}\"> {{osDefault.title}} </a> </li> {{/if}} {{#each clients}} <li> <a href=\"{{url}}\" data-client=\"{{title}}\" target=\"_blank\"> <img src=\"{{icon}}\"> {{title}} </a> </li> {{/each}} <li> <a data-client=\"rss\"> <img src=\"{{otherClient.icon}}\"> {{t \"clients_panel.other_client\"}} </a> </li> </ul> <ul class=\"cloud-clients\"> {{#each cloudClients}} <li> {{#if post}} <form method=\"post\" action=\"{{url}}\" target=\"_blank\"> <input type=\"hidden\" name=\"url\" value=\"{{feedUrl}}\"> <input type=\"hidden\" name=\"title\" value=\"{{../../podcastTitle}}\"> <input type=\"hidden\" name=\"subtitle\" value=\"{{../../podcastSubtitle}}\"> <input type=\"hidden\" name=\"image\" value=\"{{../../podcastCover}}\"> <a href=\"{{url}}\" data-client=\"{{title}}\" data-platform=\"cloud\"> <img src=\"{{icon}}\"> {{title}} </a> </form> {{else}} <a href=\"{{url}}\" data-client=\"{{title}}\" data-platform=\"cloud\" target=\"_blank\"> <img src=\"{{icon}}\"> {{title}} </a> {{/if}} </li> {{/each}} </ul> </div> </div>');\n\n  return ClientsPanel;\n\n})(Panel);\n\nmodule.exports = ClientsPanel;\n\n\n\n},{\"../../vendor/handlebars.min.js\":15,\"../../vendor/underscore-min.js\":17,\"../../vendor/zepto-browserify.js\":18,\"./clients.coffee\":3,\"./panel.coffee\":9,\"./utils.coffee\":14}],5:[function(require,module,exports){\nvar $, Colors, TinyColor, _;\n\n$ = require('../../vendor/zepto-browserify.js').Zepto;\n\n_ = require('../../vendor/underscore-min.js');\n\nTinyColor = require('../../vendor/tinycolor-min.js');\n\nColors = (function() {\n  function Colors(colorString) {\n    this._setDefaults();\n    this._extractColors(colorString);\n  }\n\n  Colors.fromParams = function(params) {\n    var colors;\n    colors = new Colors();\n    _(Colors.colorDefaults).each((function(_this) {\n      return function(color) {\n        return colors[color.name] = Colors.decode(params[color.name]);\n      };\n    })(this));\n    return colors;\n  };\n\n  Colors.prototype.toParams = function() {\n    var string;\n    string = '';\n    _(Colors.colorDefaults).each((function(_this) {\n      return function(color) {\n        return string += \"&\" + color.name + \"=\" + (Colors.encode(_this[color.name]));\n      };\n    })(this));\n    return string;\n  };\n\n  Colors.prototype.toStyles = function() {\n    var css, style;\n    this.buttonColor = new TinyColor(this.buttonColor);\n    this.backgroundHoverColor = Colors.getHoverColor(this.buttonColor.clone());\n    this.fontColor = Colors.getContrastColor(this.buttonColor.clone());\n    this.fontHoverColor = Colors.getHoverColor(this.fontColor.clone());\n    this.isolatedColor = Colors.getIsolatedColor(this.buttonColor.clone());\n    this.isolatedHoverColor = Colors.getHoverColor(this.isolatedColor.clone());\n    this.alphaColor = this.buttonColor.clone().setAlpha(0.5);\n    css = \"#podlove-subscribe-button, .podlove-subscribe-button { background-color: \" + this.buttonColor + \"; color: \" + this.fontColor + \"; } #podlove-subscribe-button:active, .podlove-subscribe-button:active, #podlove-subscribe-button:hover, .podlove-subscribe-button:hover { background-color: \" + this.backgroundHoverColor + \"; color: \" + this.fontHoverColor + \"; } #podlove-subscribe-button.outline { border-color: \" + this.buttonColor + \"; color: \" + this.buttonColor + \"; } #podlove-subscribe-button.outline:active, #podlove-subscribe-button.outline:hover { background-color: \" + this.buttonColor + \"; color: \" + this.fontColor + \"; } #podlove-subscribe-button.frameless { color: \" + this.buttonColor + \"; } #podlove-subscribe-button.frameless:active, #podlove-subscribe-button.frameless:hover { color: \" + this.backgroundHoverColor + \"; } #podlove-subscribe-popup #podlove-subscribe-popup-close-button, #podlove-subscribe-popup #podlove-subscribe-popup-help-button, #podlove-subscribe-popup .podlove-subscribe-back-button { color: \" + this.isolatedColor + \"; } #podlove-subscribe-popup #podlove-subscribe-popup-close-button:active, #podlove-subscribe-popup #podlove-subscribe-popup-help-button:active, #podlove-subscribe-popup .podlove-subscribe-back-button:active, #podlove-subscribe-popup #podlove-subscribe-popup-close-button:hover, #podlove-subscribe-popup #podlove-subscribe-popup-help-button:hover, #podlove-subscribe-popup .podlove-subscribe-back-button:hover { color: \" + this.isolatedHoverColor + \"; } #podlove-subscribe-popup #podlove-subscribe-panel-clients .device-cloud-switch button .podlove-subscribe-tab-active { background-color: \" + this.buttonColor + \"; } #podlove-subscribe-popup #podlove-subscribe-panel-clients .device-cloud-switch button:active, #podlove-subscribe-popup #podlove-subscribe-panel-clients .device-cloud-switch button:hover, #podlove-subscribe-popup #podlove-subscribe-panel-clients .device-cloud-switch button.active { color: \" + this.isolatedColor + \"; } #podlove-subscribe-popup #podlove-subscribe-panel-clients li:active, #podlove-subscribe-popup #podlove-subscribe-panel-clients li:hover { background-color: \" + this.buttonColor + \"; color: \" + this.fontColor + \"; } #podlove-subscribe-popup #podlove-subscribe-panel-finish .podlove-subscribe-popup-finish-register { color: \" + this.isolatedColor + \"; } #podlove-subscribe-popup #podlove-subscribe-panel-finish .podlove-subscribe-popup-finish-register:active, #podlove-subscribe-popup #podlove-subscribe-panel-finish .podlove-subscribe-popup-finish-register:hover { color: \" + this.isolatedHoverColor + \"; } #podlove-subscribe-popup #podlove-subscribe-button-help-panel { background-color: \" + this.buttonColor + \"; color: \" + this.fontColor + \"; } #podlove-subscribe-popup h1::selection, #podlove-subscribe-popup p::selection, #podlove-subscribe-popup input::selection, #podlove-subscribe-popup span::selection, #podlove-subscribe-popup img::selection { background-color: \" + this.alphaColor + \"; } #podlove-subscribe-popup h1::-moz-selection, #podlove-subscribe-popup p::-moz-selection, #podlove-subscribe-popup input::-moz-selection, #podlove-subscribe-popup span::-moz-selection, #podlove-subscribe-popup img::-moz-selection { background-color: \" + this.alphaColor + \"; }\";\n    style = $('<style></style>');\n    style.append(css);\n    return style;\n  };\n\n  Colors.prototype._setDefaults = function() {\n    return _(Colors.colorDefaults).each((function(_this) {\n      return function(color) {\n        return _this[color.name] = color[\"default\"];\n      };\n    })(this));\n  };\n\n  Colors.colorDefaults = [\n    {\n      name: 'buttonColor',\n      \"default\": '#75ad91'\n    }\n  ];\n\n  Colors.prototype._extractColors = function(string) {\n    var colors;\n    if (!string) {\n      return;\n    }\n    colors = string.split(';');\n    return this._setColor('buttonColor', colors[0]);\n  };\n\n  Colors.prototype._setColor = function(id, color) {\n    if (color !== '') {\n      return this[id] = color;\n    }\n  };\n\n  Colors.encode = function(color) {\n    return encodeURIComponent(color);\n  };\n\n  Colors.decode = function(color) {\n    return decodeURIComponent(color);\n  };\n\n  Colors.getContrastColor = function(color) {\n    this.newColor = color.clone();\n    if (color.getBrightness() >= 190) {\n      this.newColor = color.darken(70);\n    } else if (color.getBrightness() >= 155 && color.getBrightness() < 190) {\n      this.newColor = color.darken(45);\n    } else if (color.getBrightness() < 155 && color.getBrightness() >= 50) {\n      this.newColor = color.lighten(45);\n    } else {\n      this.newColor = color.lighten(70);\n    }\n    return this.newColor;\n  };\n\n  Colors.getHoverColor = function(color) {\n    this.newColor = color.clone();\n    if (color.getBrightness() < 50) {\n      this.newColor = color.lighten(15);\n    } else {\n      this.newColor = color.darken(10);\n    }\n    return this.newColor;\n  };\n\n  Colors.getIsolatedColor = function(color) {\n    this.newColor = color.clone();\n    if (color.getBrightness() >= 170) {\n      this.newColor = color.darken(35);\n    }\n    return this.newColor;\n  };\n\n  return Colors;\n\n})();\n\nmodule.exports = Colors;\n\n\n\n},{\"../../vendor/tinycolor-min.js\":16,\"../../vendor/underscore-min.js\":17,\"../../vendor/zepto-browserify.js\":18}],6:[function(require,module,exports){\nvar $, FinishPanel, Handlebars, Panel,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\n$ = require('../../vendor/zepto-browserify.js').Zepto;\n\nHandlebars = require('../../vendor/handlebars.min.js').Handlebars;\n\nPanel = require('./panel.coffee');\n\nFinishPanel = (function(superClass) {\n  extend(FinishPanel, superClass);\n\n  function FinishPanel(container, parent) {\n    this.container = container;\n    this.parent = parent;\n  }\n\n  FinishPanel.prototype.context = function(client, podcast) {\n    return {\n      client: client,\n      podcast: podcast,\n      scriptPath: this.parent.options.scriptPath,\n      platform: this.parent.platform\n    };\n  };\n\n  FinishPanel.prototype.render = function(client, podcast) {\n    var copyNotification, copyUrlButton, copyUrlField;\n    this.container.empty();\n    this.elem = $(this.template(this.context(client, podcast)));\n    this.container.append(this.elem);\n    this.elem.find('input').on('click', function() {\n      return this.select();\n    });\n    copyUrlButton = this.elem.find('.copy-url-button');\n    copyUrlButton.hide();\n    copyUrlField = this.elem.find('.copy-url-field');\n    copyNotification = this.elem.find('.copy-notification');\n    copyNotification.hide();\n    return this.attachCopyFunctionality(copyUrlButton, copyUrlField, copyNotification);\n  };\n\n  FinishPanel.prototype.attachCopyFunctionality = function(button, field, notification) {\n    if (!document.queryCommandSupported('copy') || !document.queryCommandSupported('selectAll')) {\n      return;\n    }\n    field.on('focus', (function(_this) {\n      return function() {\n        return document.execCommand('selectAll', false, null);\n      };\n    })(this));\n    button.show();\n    return button.on('click', (function(_this) {\n      return function() {\n        field.attr('contenteditable', true);\n        field.focus();\n        document.execCommand('copy', false, null);\n        field.blur();\n        field.attr('contenteditable', false);\n        return notification.show();\n      };\n    })(this));\n  };\n\n  FinishPanel.prototype.template = Handlebars.compile('<div> <img class=\"podcast-cover\" src=\"{{client.icon}}\"> {{#if client.scheme}} <h1>{{t \"finish_panel.handing_over_to\" client=client.title}}...</h1> <p>{{t \"finish_panel.something_went_wrong\"}}</p> <p> {{#if client.post}} <form method=\"post\" action=\"{{client.url}}\" target=\"_blank\"> <input type=\"hidden\" name=\"url\" value=\"{{client.url}}\"> <input type=\"hidden\" name=\"title\" value=\"{{podcast.title}}\"> <input type=\"hidden\" name=\"subtitle\" value=\"{{podcast.subtitle}}\"> <input type=\"hidden\" name=\"image\" value=\"{{podcast.cover}}\"> <button class=\"podlove-subscribe-button\"> {{t \"finish_panel.try_again\"}} </button> </form> {{else}} <a href=\"{{client.url}}\" class=\"podlove-subscribe-button\" target=\"_blank\"> {{t \"finish_panel.try_again\"}} </a> {{/if}} {{#if client.store}} {{t \"finish_panel.or_install\"}} <br> <a href=\"{{client.store}}\" target=\"_blank\"> <img src=\"{{scriptPath}}/images/stores/{{platform}}.png\" class=\"store-button\"> </a> {{/if}} {{#if client.install}} <a class=\"podlove-subscribe-popup-finish-register\" href=\"{{client.install}}\" target=\"_blank\"> {{t \"finish_panel.install\" client=client.title}} </a> {{/if}} {{#if client.register}} <a class=\"podlove-subscribe-popup-finish-register\" href=\"{{client.register}}\" target=\"_blank\"> {{t \"finish_panel.register_an_account\"}} {{client.title}} </a> {{/if}} </p> {{else}} <p> {{t \"finish_panel.please_copy_url\"}} </p> <a href=\"{{client.originalUrl}}\" target=\"_blank\" class=\"copy-url-link\">{{client.originalUrl}}</a> <button class=\"copy-url-button podlove-subscribe-button\">{{t \"finish_panel.copy_button_text\"}}</button> <div class=\"copy-url-field\">{{client.originalUrl}}</div> <div class=\"copy-notification\">{{t \"finish_panel.copy_success\"}}<div> {{/if}} </div>');\n\n  return FinishPanel;\n\n})(Panel);\n\nmodule.exports = FinishPanel;\n\n\n\n},{\"../../vendor/handlebars.min.js\":15,\"../../vendor/zepto-browserify.js\":18,\"./panel.coffee\":9}],7:[function(require,module,exports){\nvar $, IframeClick, _;\n\n$ = require('../../vendor/zepto-browserify.js').Zepto;\n\n_ = require('../../vendor/underscore-min.js');\n\nIframeClick = (function() {\n  function IframeClick() {}\n\n  IframeClick.listen = function(iframe, callback, options) {\n    var id;\n    id = options.id;\n    if (window.podloveSubscribeButtonStoredOptions == null) {\n      window.podloveSubscribeButtonStoredOptions = {};\n    }\n    window.podloveSubscribeButtonStoredOptions[id] = _.clone(options);\n    return window.addEventListener('message', ((function(_this) {\n      return function(event) {\n        if (event.data !== (\"clicked_\" + id)) {\n          return;\n        }\n        options = window.podloveSubscribeButtonStoredOptions[id];\n        return callback(options);\n      };\n    })(this)), false);\n  };\n\n  return IframeClick;\n\n})();\n\nmodule.exports = IframeClick;\n\n\n\n},{\"../../vendor/underscore-min.js\":17,\"../../vendor/zepto-browserify.js\":18}],8:[function(require,module,exports){\nvar IframeResizer;\n\nIframeResizer = (function() {\n  function IframeResizer() {}\n\n  IframeResizer.listen = function(listenTo, iframe, offset, callback) {\n    if (offset == null) {\n      offset = {};\n    }\n    return window.addEventListener('message', ((function(_this) {\n      return function(event) {\n        var height, resizeData, width;\n        try {\n          resizeData = JSON.parse(event.data);\n        } catch (_error) {\n          return;\n        }\n        if (resizeData.id !== iframe.attr('id')) {\n          return;\n        }\n        if (resizeData.listenTo !== listenTo) {\n          return;\n        }\n        height = resizeData.height + (offset.height || 0);\n        width = /%$/.test(resizeData.width) ? resizeData.width : resizeData.width + (offset.width || 0);\n        iframe.height(height);\n        iframe.width(width);\n        if (callback != null) {\n          return callback(iframe);\n        }\n      };\n    })(this)), false);\n  };\n\n  return IframeResizer;\n\n})();\n\nmodule.exports = IframeResizer;\n\n\n\n},{}],9:[function(require,module,exports){\nvar Panel;\n\nPanel = (function() {\n  function Panel() {}\n\n  return Panel;\n\n})();\n\nmodule.exports = Panel;\n\n\n\n},{}],10:[function(require,module,exports){\nvar $, Handlebars, Panel, PodcastPanel, Translations,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\n$ = require('../../vendor/zepto-browserify.js').Zepto;\n\nHandlebars = require('../../vendor/handlebars.min.js').Handlebars;\n\nTranslations = require('./translations.coffee');\n\nPanel = require('./panel.coffee');\n\nPodcastPanel = (function(superClass) {\n  extend(PodcastPanel, superClass);\n\n  function PodcastPanel(container, parent) {\n    this.container = container;\n    this.parent = parent;\n    this.podcast = this.parent.podcast;\n    if (this.podcast.subtitle && this.podcast.subtitle !== '') {\n      this.podcast.subtitle = new Handlebars.SafeString(this.podcast.subtitle);\n    }\n    this.render();\n  }\n\n  PodcastPanel.prototype.context = function() {\n    return {\n      cover: this.podcast.cover,\n      title: new Handlebars.SafeString(this.podcast.title),\n      subtitle: this.podcast.subtitle,\n      scriptPath: this.parent.options.scriptPath\n    };\n  };\n\n  PodcastPanel.prototype.render = function() {\n    this.elem = $(this.template(this.context()));\n    this.container.append(this.elem);\n    return this.elem.find('button').on('click', (function(_this) {\n      return function(event) {\n        return _this.parent.movePanels(1);\n      };\n    })(this));\n  };\n\n  PodcastPanel.prototype.template = Handlebars.compile('<div{{#if subtitle}} class=\"podcast-has-subtitles\"{{/if}}> {{#if cover}} <img class=\"podcast-cover\" src=\"{{cover}}\" alt=\"Logo of {{title}}\"> {{else}} <div class=\"podcast-cover-placeholder\"></div> {{/if}} <div class=\"podlove-subscribe-popup-podcast-text\"> <h1>{{title}}</h1> {{#if subtitle}} <p>{{subtitle}}</p> {{/if}} </div> <button class=\"podlove-subscribe-button\">{{t \"podcast_panel.choose_client\"}}</button> </div>');\n\n  return PodcastPanel;\n\n})(Panel);\n\nmodule.exports = PodcastPanel;\n\n\n\n},{\"../../vendor/handlebars.min.js\":15,\"../../vendor/zepto-browserify.js\":18,\"./panel.coffee\":9,\"./translations.coffee\":12}],11:[function(require,module,exports){\nvar $, ClientsPanel, FinishPanel, Handlebars, IframeResizer, PodcastPanel, Popup, Translations, UserAgent, Utils;\n\n$ = require('../../vendor/zepto-browserify.js').Zepto;\n\nHandlebars = require('../../vendor/handlebars.min.js').Handlebars;\n\nUtils = require('./utils.coffee');\n\nTranslations = require('./translations.coffee');\n\nIframeResizer = require('./iframe_resizer.coffee');\n\nUserAgent = require('./user_agent.coffee');\n\nPodcastPanel = require('./podcast_panel.coffee');\n\nClientsPanel = require('./clients_panel.coffee');\n\nFinishPanel = require('./finish_panel.coffee');\n\nPopup = (function() {\n  function Popup(podcast, options) {\n    this.podcast = podcast;\n    this.options = options;\n    this.I18n = new Translations(this.options.language);\n    this.platform = new UserAgent().detect();\n    this.render();\n    this.initPanels();\n  }\n\n  Popup.prototype.context = function() {\n    return {\n      scriptPath: this.options.scriptPath\n    };\n  };\n\n  Popup.prototype.render = function() {\n    this.elem = $(this.template(this.context()));\n    this.body = $('body');\n    this.html = $('html');\n    this.body.append(this.elem);\n    this.disableBackgroundScrolling();\n    window.setTimeout((function(_this) {\n      return function() {\n        return _this.elem.removeClass('podlove-subscribe-popup-animate');\n      };\n    })(this), 500);\n    this.elem.find('#podlove-subscribe-popup-close-button').on('click', (function(_this) {\n      return function() {\n        return _this.closePopup();\n      };\n    })(this));\n    this.elem.on('click', (function(_this) {\n      return function() {\n        return _this.closePopup();\n      };\n    })(this));\n    this.elem.find('#podlove-subscribe-popup-modal').on('click', (function(_this) {\n      return function(event) {\n        return event.stopPropagation();\n      };\n    })(this));\n    this.elem.find('#podlove-subscribe-popup-help-button').on('click', (function(_this) {\n      return function(event) {\n        _this.elem.find('#podlove-subscribe-button-help-panel').toggleClass('visible');\n        return $(event.currentTarget).toggleClass('active');\n      };\n    })(this));\n    this.elem.find('#podlove-help-close-button').on('click', (function(_this) {\n      return function(event) {\n        _this.elem.find('#podlove-subscribe-button-help-panel').toggleClass('visible');\n        return $(event.currentTarget).toggleClass('active');\n      };\n    })(this));\n    return this.elem.find('.podlove-subscribe-back-button').on('click', (function(_this) {\n      return function(event) {\n        _this.container = _this.elem.find('#podlove-subscribe-popup-modal-inner');\n        if (_this.container.hasClass('swiped-left-2')) {\n          return _this.movePanels(1);\n        } else if (_this.container.hasClass('swiped-left-1')) {\n          return _this.movePanels(0);\n        }\n      };\n    })(this));\n  };\n\n  Popup.prototype.disableBackgroundScrolling = function() {\n    this.oldHtmlOverflow = this.html.css('overflow');\n    this.oldBodyOverflow = this.body.css('overflow');\n    this.html.css('overflow', 'hidden');\n    return this.body.css('overflow', 'hidden');\n  };\n\n  Popup.prototype.enableBackgroundScrolling = function(body) {\n    this.html.css('overflow', this.oldHtmlOverflow);\n    return this.body.css('overflow', this.oldBodyOverflow);\n  };\n\n  Popup.prototype.closePopup = function() {\n    this.enableBackgroundScrolling();\n    this.elem.addClass('podlove-subscribe-popup-animate');\n    return window.setTimeout((function(_this) {\n      return function() {\n        _this.elem.removeClass('podlove-subscribe-popup-animate');\n        return _this.elem.remove();\n      };\n    })(this), 500);\n  };\n\n  Popup.prototype.template = Handlebars.compile('<div id=\"podlove-subscribe-popup\" class=\"podlove-subscribe podlove-subscribe-popup-animate\"> <div id=\"podlove-subscribe-popup-modal\"> <div id=\"podlove-subscribe-popup-modal-inner\" class=\"show-left\"> <div class=\"top-bar\"> <span id=\"podlove-subscribe-popup-help-button\"></span> <span class=\"podlove-subscribe-back-button\"></span> <span class=\"panel-title\">{{t \"panels.title\"}}</span> <span id=\"podlove-subscribe-popup-close-button\" class=\"podlove-subscribe-install-button\"></span> </div> <div id=\"podlove-subscribe-panel-container\"> <div id=\"podlove-subscribe-panel-podcast\"></div> <div id=\"podlove-subscribe-panel-clients\"></div> <div id=\"podlove-subscribe-panel-finish\"></div> </div> </div> <a href=\"http://www.podlove.org\" title=\"Podlove\" target=\"_blank\" class=\"podlove-logo\"><img src=\"{{scriptPath}}/images/podlove.svg\"></a> <div id=\"podlove-subscribe-button-help-panel\"> <span id=\"podlove-help-close-button\" class=\"podlove-help-close-button\"></span> <div class=\"podlove-subscribe-button-help-panel-content\"> <h2>{{t \"help_panel.title\"}}</h2> <p>{{t \"help_panel.paragraph1\"}}</p> <p>{{t \"help_panel.paragraph2\"}}</p> <p>{{t \"help_panel.paragraph3\"}}</p> </div> </div> </div> </div>');\n\n  Popup.prototype.initPanels = function() {\n    var prefix;\n    prefix = '#podlove-subscribe-panel';\n    this.podcastPanel = new PodcastPanel(this.elem.find(prefix + \"-podcast\"), this);\n    this.clientsPanel = new ClientsPanel(this.elem.find(prefix + \"-clients\"), this);\n    return this.finishPanel = new FinishPanel(this.elem.find(prefix + \"-finish\"), this);\n  };\n\n  Popup.prototype.movePanels = function(step) {\n    this.container = this.elem.find('#podlove-subscribe-popup-modal-inner');\n    this.container.removeClass('swiped-left-0');\n    this.container.removeClass('swiped-left-1');\n    this.container.removeClass('swiped-left-2');\n    return this.container.addClass('swiped-left-' + step);\n  };\n\n  return Popup;\n\n})();\n\nmodule.exports = Popup;\n\n\n\n},{\"../../vendor/handlebars.min.js\":15,\"../../vendor/zepto-browserify.js\":18,\"./clients_panel.coffee\":4,\"./finish_panel.coffee\":6,\"./iframe_resizer.coffee\":8,\"./podcast_panel.coffee\":10,\"./translations.coffee\":12,\"./user_agent.coffee\":13,\"./utils.coffee\":14}],12:[function(require,module,exports){\nvar Handlebars, Translations, _,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\n_ = require('../../vendor/underscore-min.js');\n\nHandlebars = require('../../vendor/handlebars.min.js').Handlebars;\n\nTranslations = (function() {\n  function Translations(language) {\n    this.interpolate = bind(this.interpolate, this);\n    this.locale = language.split('-')[0];\n    Handlebars.registerHelper('t', (function(_this) {\n      return function(key, options) {\n        return new Handlebars.SafeString(_this.t(key, options.hash));\n      };\n    })(this));\n  }\n\n  Translations.prototype.t = function(key, options) {\n    if (options == null) {\n      options = {};\n    }\n    return this.translate(key, options);\n  };\n\n  Translations.prototype.translate = function(key, options) {\n    var _translations, key_array, last_key, value, value_array;\n    if (options == null) {\n      options = {};\n    }\n    key_array = key.split('.');\n    _translations = this._translations[this.locale];\n    value = null;\n    last_key = null;\n    _.each(key_array, function(key) {\n      last_key = key;\n      return value = value ? value[key] : _translations[key];\n    });\n    if (value == null) {\n      value_array = [];\n      _.forEach(last_key.split('_'), function(split_key) {\n        return value_array.push(split_key.charAt(0).toUpperCase() + split_key.slice(1));\n      });\n      value = value_array.join(' ');\n    }\n    return this.interpolate(value, options);\n  };\n\n  Translations.prototype.interpolate = function(string, interpolations) {\n    string = string.replace(/%{([^{}]*)}/g, function(a, b) {\n      var r;\n      r = interpolations[b];\n      if (typeof r === 'string' || typeof r === 'number') {\n        return r;\n      } else {\n        return a;\n      }\n    });\n    return string;\n  };\n\n  Translations.defaultLanguage = 'en';\n\n  Translations.prototype.supportsLanguage = function() {\n    var keys;\n    keys = Object.keys(this._translations);\n    if (keys.indexOf(this.locale) !== -1) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  Translations.prototype._translations = {\n    de: {\n      button: \"Abonnieren\",\n      panels: {\n        title: \"Abonnieren\"\n      },\n      podcast_panel: {\n        choose_client: \"Weiter\"\n      },\n      help_panel: {\n        title: \"Abonnieren?\",\n        paragraph1: \"Ein Abonnement erlaubt einer Podcast-App neue Folgen automatisch herunterzuladen oder das Podcast-Archiv mit alten Episoden zu durchsuchen.\",\n        paragraph2: \"Der Podlove Subscribe Button hilft dir dabei. Wähle deine favorisierte Podcast-App aus der Liste der verfügbaren Apps oder wähle einen Podcast-Cloud-Service den du benutzt.\",\n        paragraph3: \"Beim Start sollte die Podcast-App den Podcast zur Liste der Abonnements hinzufügen. Benutze den Download-Link, um die App zu installieren, falls sie es noch nicht ist.\"\n      },\n      clients_panel: {\n        app: \"App\",\n        cloud: \"Cloud\",\n        other_client: \"Andere App\"\n      },\n      finish_panel: {\n        handing_over_to: \"Übergebe an<br> %{client}\",\n        something_went_wrong: \"Funktioniert etwas nicht wie erwartet?\",\n        try_again: \"Nochmal versuchen\",\n        install: \"%{client} installieren\",\n        register_an_account: \"Einen Account registrieren bei \",\n        please_copy_url: \"Bitte die URL kopieren und in deine Podcast- oder RSS-App einfügen.\",\n        copy_button_text: \"URL kopieren\",\n        copy_success: \"URL in die Zwischenablage kopiert.\",\n        or_install: \"oder App installieren\"\n      }\n    },\n    en: {\n      button: \"Subscribe\",\n      panels: {\n        title: \"Subscribe\"\n      },\n      podcast_panel: {\n        choose_client: \"Continue\"\n      },\n      help_panel: {\n        title: \"Subscribe?\",\n        paragraph1: \"You are about to subscribe to a podcast. This will allow your podcast app to automatically download new episodes or access the archive of previously released episodes.\",\n        paragraph2: \"The Podlove Subscribe Button helps you to do this. Select your favorite podcast app from a list of potential apps on your device or pick a podcast cloud service on the web that you use.\",\n        paragraph3: \"Upon launch, the podcast client should offer you to add the podcast to your list of subscriptions. Use the download link to get the app if not yet available.\"\n      },\n      clients_panel: {\n        app: \"App\",\n        cloud: \"Cloud\",\n        other_client: \"Other App\"\n      },\n      finish_panel: {\n        handing_over_to: \"Handing over to %{client}\",\n        something_went_wrong: \"Did something go wrong?\",\n        try_again: \"Try again\",\n        install: \"Install %{client}\",\n        register_an_account: \"Register an account with \",\n        please_copy_url: \"Please copy the URL below and add it to your podcast or RSS app.\",\n        copy_button_text: \"Copy URL\",\n        copy_success: \"URL copied to clipboard\",\n        or_install: \"or install app\"\n      }\n    },\n    eo: {\n      button: \"Aboni\",\n      panels: {\n        title: \"Aboni\"\n      },\n      podcast_panel: {\n        choose_client: \"Elekti aplikaĵon\"\n      },\n      help_panel: {\n        title: \"Ĉu aboni?\",\n        paragraph1: \"Per abono de podkasto vi permesos al via podkasta aplikaĵo aŭtomate elŝuti novajn aŭ arkivajn epizodojn.\",\n        paragraph2: \"La Podlove Abonbutono helpas vin fari tion. Elektu vian plej ŝatatan podkastan aplikaĵon el listo de eblaj aplikaĵoj sur via aparato aŭ elektu vian uzatan nuban servon en la reto.\",\n        paragraph3: \"Lanĉate la podkasta aplikaĵo ebligu al vi aldoni la podkaston al via abonlisto. Uzu la elŝut-ligilon, se la aplikaĵo ankoraŭ ne estas instalita.\"\n      },\n      clients_panel: {\n        app: \"Aplikaĵo\",\n        cloud: \"Nubo\",\n        other_client: \"Alia aplikaĵo\"\n      },\n      finish_panel: {\n        handing_over_to: \"Transdonanta al %{client}\",\n        something_went_wrong: \"Ĉu io misfunkciis?\",\n        try_again: \"Reprovi\",\n        install: \"Viziti la retejon de %{client}\",\n        register_an_account: \"Registriĝi ĉe \",\n        please_copy_url: \"Bonvolu kopii la suban URLn kaj aldoni ĝin al via podkasta aplikaĵo aŭ RSS-legilo.\",\n        copy_button_text: \"Copy URL\",\n        copy_success: \"URL copied to clipboard\",\n        or_install: \"aŭ instali la aplikaĵon\"\n      }\n    },\n    fi: {\n      button: \"Tilaa\",\n      panels: {\n        title: \"Tilaa\"\n      },\n      podcast_panel: {\n        choose_client: \"Valitse ohjelma\"\n      },\n      help_panel: {\n        title: \"Haluatko tilata?\",\n        paragraph1: \"You are about to subscribe to a podcast. This will allow your podcast app to automatically download new episodes or access the archive of previously released episodes.\",\n        paragraph2: \"The Podlove Subscribe Button helps you to do this. Select your favorite podcast app from a list of potential apps on your device or pick a podcast cloud service on the web that you use.\",\n        paragraph3: \"Upon launch, the podcast client should offer you to add the podcast to your list of subscriptions. Use the download link to get the app if not yet available.\"\n      },\n      clients_panel: {\n        app: \"App\",\n        cloud: \"Cloud\",\n        other_client: \"Eri ohjelma\"\n      },\n      finish_panel: {\n        handing_over_to: \"Annetaan %{client}:lle\",\n        something_went_wrong: \"Menikö jotain väärin?\",\n        try_again: \"Kokeile uudestaan\",\n        install: \"Mene %{client}:n sivustolle\",\n        register_an_account: \"Rekisteröidy\",\n        please_copy_url: \"Ole hyvä ja kopioi alla olevan linkin ja syötä se sinuun podcast tai RSS ohjelmaan.\",\n        copy_button_text: \"Copy URL\",\n        copy_success: \"URL copied to clipboard\",\n        or_install: \"tai installoi ohjelma\"\n      }\n    },\n    fr: {\n      button: \"Souscrire\",\n      panels: {\n        title: \"Souscrire\"\n      },\n      podcast_panel: {\n        choose_client: \"Choisir App\"\n      },\n      help_panel: {\n        title: \"Souscrire?\",\n        paragraph1: \"Vous êtes sur le point de souscrire à un podcast. Ceci permettra à votre application podcast de télécharger automatiquement de nouveaux épisodes ou d’accéder aux archives d’épisodes préalablement diffusés.\",\n        paragraph2: \"Le bouton souscrire au Podlove vous aide à faire cela. Sélectionnez votre application podcast favorite à partir d’une liste d’applications potentielles sur votre appareil ou choisissez un service de « podcast cloud » sur internet que vous utilisez\",\n        paragraph3: \"Durant le lancement, le client podcast devrait vous offrir la possibilité d’ajouter le podcast à votre liste de souscriptions. Utilisez le lien de téléchargement pour obtenir l’application si celle-ci n’est pas encore présente.\"\n      },\n      clients_panel: {\n        app: \"App\",\n        cloud: \"Cloud\",\n        other_client: \"Autre App\"\n      },\n      finish_panel: {\n        handing_over_to: \"Transfert vers %{client}\",\n        something_went_wrong: \"Y a-t-il eut des problèmes ?\",\n        try_again: \"Essayer à nouveau\",\n        install: \"Visite %{client} du site internet\",\n        register_an_account: \"Enregistrer un compte avec\",\n        please_copy_url: \"Veuillez copier l’URL ci-dessous et ajoutez le à votre podcast ou application RSS.\",\n        copy_button_text: \"Copy URL\",\n        copy_success: \"URL copied to clipboard\",\n        or_install: \"ou installer l‘application\"\n      }\n    },\n    nl: {\n      button: \"Abonneren\",\n      panels: {\n        title: \"Abonneren\"\n      },\n      podcast_panel: {\n        choose_client: \"App kiezen\"\n      },\n      help_panel: {\n        title: \"Abonneren?\",\n        paragraph1: \"U staat op het punt een podcast te abonneren. Hierdoor kan uw podcast app nieuwe afleveringen automatisch downloaden of toegang tot het archief van eerder uitgebrachte afleveringen geven.\",\n        paragraph2: \"De Podlove Abonneren Button helpt u om dit te doen. Kies uw favoriete podcast app van een lijst van potentiële apps op uw apparaat of kies een podcast cloud service op het web die u gebruikt.\",\n        paragraph3: \"Bij de lancering moet de podcast client u aanbieden om de podcast toe te voegen aan uw lijst met abonnementen. Gebruik de download link naar de app, indien nog niet beschikbaar.\"\n      },\n      clients_panel: {\n        app: \"App\",\n        cloud: \"Cloud\",\n        other_client: \"Ander app\"\n      },\n      finish_panel: {\n        handing_over_to: \"Overhandigen aan %{client}\",\n        something_went_wrong: \"Is er iets mis gegaan?\",\n        try_again: \"Probeer opnieuw\",\n        install: \"Bezoek %{client} website\",\n        register_an_account: \"Registreren op \",\n        please_copy_url: \"Kopieer de URL hieronder en voeg deze toe aan uw podcast of RSS-app.\",\n        copy_button_text: \"Copy URL\",\n        copy_success: \"URL copied to clipboard\",\n        or_install: \"Of installeer de app\"\n      }\n    },\n    ja: {\n      button: \"登録する\",\n      panels: {\n        title: \"登録する\"\n      },\n      podcast_panel: {\n        choose_client: \"クライアントを選ぶ\"\n      },\n      help_panel: {\n        title: \"登録がよろしいですか？\",\n        paragraph1: \"今新しいポットキャストを登録しています。それでポットキャストクライアントアプリケーションで新しいエピソードを自動でダウンロードできる、またはポットキャストアーカイブで過去のエピソードを探せます。\",\n        paragraph2: \"ポットラブ登録ボタンは登録を支援します。気に入り、使っているポットキャストクライアントがポットキャストクラウドサービスを使用可能なもののリストを選んで下さい。\",\n        paragraph3: \"スタートアップでポットキャストクライアントがポットキャストを登録はずです。アプリがまだインストールしなかったら、ダウンロードリンクをインストールために使って下さい。\"\n      },\n      clients_panel: {\n        app: \"アプリ\",\n        cloud: \"クラウド\",\n        other_client: \"他のクライアント\"\n      },\n      finish_panel: {\n        handing_over_to: \"%{client}に渡す\",\n        something_went_wrong: \"何が失敗しましたか？\",\n        try_again: \"もう一度試してください\",\n        install: \"Visit %{client} website\",\n        register_an_account: \"%{client}にアカウントを登録する\",\n        please_copy_url: \"URLをコピーして、ポットキャストがRSSクライアントに貼り付けて下さい。\",\n        copy_button_text: \"Copy URL\",\n        copy_success: \"URL copied to clipboard\",\n        or_install: \"or install app\"\n      }\n    },\n    zh: {\n      button: \"订阅\",\n      panels: {\n        title: \"订阅\"\n      },\n      podcast_panel: {\n        choose_client: \"Choose App\"\n      },\n      help_panel: {\n        title: \"订阅？\",\n        paragraph1: \"你在订阅一个播客，它会自动下载新的广播节目或进入以前的下载目录。\",\n        paragraph2: \"这个订阅键将协助你完成。从你的设备或者播客云服务上选择你喜欢的应用。\",\n        paragraph3: \"启动时，播客客户端会提醒你将播客加入你的订阅列表中。如还未安装，也可通过链接下载安装此应用。\"\n      },\n      clients_panel: {\n        app: \"应用\",\n        cloud: \"云\",\n        other_client: \"其他应用\"\n      },\n      finish_panel: {\n        handing_over_to: \"提交给%{client}\",\n        something_went_wrong: \"有错误？\",\n        try_again: \"重试\",\n        install: \"访问%{client}网站\",\n        register_an_account: \"注册账号 \",\n        please_copy_url: \"请复制下面的链接，添加到你的播客或RSS应用中。\",\n        copy_button_text: \"Copy URL\",\n        copy_success: \"URL copied to clipboard\",\n        or_install: \"或安装应用\"\n      }\n    }\n  };\n\n  return Translations;\n\n})();\n\nmodule.exports = Translations;\n\n\n\n},{\"../../vendor/handlebars.min.js\":15,\"../../vendor/underscore-min.js\":17}],13:[function(require,module,exports){\nvar UAs, UserAgent,\n  hasProp = {}.hasOwnProperty;\n\nUserAgent = (function() {\n  function UserAgent() {}\n\n  UserAgent.prototype.detect = function() {\n    var regex, ua, userAgent;\n    userAgent = (window.navigator && navigator.userAgent) || \"\";\n    for (ua in UAs) {\n      if (!hasProp.call(UAs, ua)) continue;\n      regex = UAs[ua];\n      if (regex.test(userAgent)) {\n        return ua;\n      }\n    }\n  };\n\n  return UserAgent;\n\n})();\n\nUAs = {\n  windows7: /Windows NT 6.1/,\n  windows8: /Windows NT 6.2/,\n  windows81: /Windows NT 6.3/,\n  windows10: /Windows NT 10.0/,\n  windowsphone: /trident/i,\n  android: /android/i,\n  ios: /(ipad|iphone|ipod)/i,\n  linux: /linux/i,\n  osx: /macintosh/i\n};\n\nmodule.exports = UserAgent;\n\n\n\n},{}],14:[function(require,module,exports){\nvar Utils;\n\nUtils = (function() {\n  function Utils() {}\n\n  Utils.locationToOptions = function(location) {\n    var array, i, len, options, split, string;\n    options = {};\n    string = window.location.search.replace(/^\\?/, '');\n    split = string.split('&');\n    for (i = 0, len = split.length; i < len; i++) {\n      string = split[i];\n      array = string.split('=');\n      options[array[0]] = decodeURIComponent(array[1]);\n    }\n    return options;\n  };\n\n  Utils.fixIconPath = function(client, prefix) {\n    if (!client.icon) {\n      return;\n    }\n    if (client.icon.indexOf(prefix) === -1) {\n      return client.icon = prefix + \"/images/\" + client.icon;\n    }\n  };\n\n  return Utils;\n\n})();\n\nmodule.exports = Utils;\n\n\n\n},{}],15:[function(require,module,exports){\n/*!\n\n handlebars v2.0.0-alpha.4\n\nCopyright (C) 2011-2014 by Yehuda Katz\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n@license\n*/\nthis.Handlebars=function(){var a=function(){\"use strict\";function a(a){this.string=a}var b;return a.prototype.toString=function(){return\"\"+this.string},b=a}(),b=function(a){\"use strict\";function b(a){return i[a]||\"&amp;\"}function c(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}function d(a){return a instanceof h?a.toString():a||0===a?(a=\"\"+a,k.test(a)?a.replace(j,b):a):\"\"}function e(a){return a||0===a?n(a)&&0===a.length?!0:!1:!0}function f(a,b){return(a?a+\".\":\"\")+b}var g={},h=a,i={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#x27;\",\"`\":\"&#x60;\"},j=/[&<>\"'`]/g,k=/[&<>\"'`]/;g.extend=c;var l=Object.prototype.toString;g.toString=l;var m=function(a){return\"function\"==typeof a};m(/x/)&&(m=function(a){return\"function\"==typeof a&&\"[object Function]\"===l.call(a)});var m;g.isFunction=m;var n=Array.isArray||function(a){return a&&\"object\"==typeof a?\"[object Array]\"===l.call(a):!1};return g.isArray=n,g.escapeExpression=d,g.isEmpty=e,g.appendContextPath=f,g}(a),c=function(){\"use strict\";function a(a,b){var d;b&&b.firstLine&&(d=b.firstLine,a+=\" - \"+d+\":\"+b.firstColumn);for(var e=Error.prototype.constructor.call(this,a),f=0;f<c.length;f++)this[c[f]]=e[c[f]];d&&(this.lineNumber=d,this.column=b.firstColumn)}var b,c=[\"description\",\"fileName\",\"lineNumber\",\"message\",\"name\",\"number\",\"stack\"];return a.prototype=new Error,b=a}(),d=function(a,b){\"use strict\";function c(a,b){this.helpers=a||{},this.partials=b||{},d(this)}function d(a){a.registerHelper(\"helperMissing\",function(){if(1===arguments.length)return void 0;throw new h(\"Missing helper: '\"+arguments[arguments.length-1].name+\"'\")}),a.registerHelper(\"blockHelperMissing\",function(b,c){var d=c.inverse||function(){},e=c.fn;if(m(b)&&(b=b.call(this)),b===!0)return e(this);if(b===!1||null==b)return d(this);if(l(b))return b.length>0?(c.ids&&(c.ids=[c.name]),a.helpers.each(b,c)):d(this);if(c.data&&c.ids){var f=q(c.data);f.contextPath=g.appendContextPath(c.data.contextPath,c.name),c={data:f}}return e(b,c)}),a.registerHelper(\"each\",function(a,b){b||(b=a,a=this);var c,d,e=b.fn,f=b.inverse,h=0,i=\"\";if(b.data&&b.ids&&(d=g.appendContextPath(b.data.contextPath,b.ids[0])+\".\"),m(a)&&(a=a.call(this)),b.data&&(c=q(b.data)),a&&\"object\"==typeof a)if(l(a))for(var j=a.length;j>h;h++)c&&(c.index=h,c.first=0===h,c.last=h===a.length-1,d&&(c.contextPath=d+h)),i+=e(a[h],{data:c});else for(var k in a)a.hasOwnProperty(k)&&(c&&(c.key=k,c.index=h,c.first=0===h,d&&(c.contextPath=d+k)),i+=e(a[k],{data:c}),h++);return 0===h&&(i=f(this)),i}),a.registerHelper(\"if\",function(a,b){return m(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||g.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper(\"unless\",function(b,c){return a.helpers[\"if\"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper(\"with\",function(a,b){m(a)&&(a=a.call(this));var c=b.fn;if(!g.isEmpty(a)){if(b.data&&b.ids){var d=q(b.data);d.contextPath=g.appendContextPath(b.data.contextPath,b.ids[0]),b={data:d}}return c(a,b)}}),a.registerHelper(\"log\",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)}),a.registerHelper(\"lookup\",function(a,b){return a&&a[b]})}function e(a,b){p.log(a,b)}var f={},g=a,h=b,i=\"2.0.0-alpha.4\";f.VERSION=i;var j=5;f.COMPILER_REVISION=j;var k={1:\"<= 1.0.rc.2\",2:\"== 1.0.0-rc.3\",3:\"== 1.0.0-rc.4\",4:\"== 1.x.x\",5:\">= 2.0.0\"};f.REVISION_CHANGES=k;var l=g.isArray,m=g.isFunction,n=g.toString,o=\"[object Object]\";f.HandlebarsEnvironment=c,c.prototype={constructor:c,logger:p,log:e,registerHelper:function(a,b,c){if(n.call(a)===o){if(c||b)throw new h(\"Arg not supported with multiple helpers\");g.extend(this.helpers,a)}else c&&(b.not=c),this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,b){n.call(a)===o?g.extend(this.partials,a):this.partials[a]=b},unregisterPartial:function(a){delete this.partials[a]}};var p={methodMap:{0:\"debug\",1:\"info\",2:\"warn\",3:\"error\"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,b){if(p.level<=a){var c=p.methodMap[a];\"undefined\"!=typeof console&&console[c]&&console[c].call(console,b)}}};f.logger=p,f.log=e;var q=function(a){var b=g.extend({},a);return b._parent=a,b};return f.createFrame=q,f}(b,c),e=function(a,b,c){\"use strict\";function d(a){var b=a&&a[0]||1,c=n;if(b!==c){if(c>b){var d=o[c],e=o[b];throw new m(\"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version (\"+d+\") or downgrade your runtime to an older version (\"+e+\").\")}throw new m(\"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version (\"+a[1]+\").\")}}function e(a,b){if(!b)throw new m(\"No environment passed to template\");b.VM.checkRevision(a.compiler);var c=function(a,c,d,e,f,g,h){e&&(d=l.extend({},d,e));var i=b.VM.invokePartial.call(this,a,c,d,f,g,h);if(null!=i)return i;if(b.compile){var j={helpers:f,partials:g,data:h};return g[c]=b.compile(a,{data:void 0!==h},b),g[c](d,j)}throw new m(\"The partial \"+c+\" could not be compiled when running in runtime-only mode\")},d={escapeExpression:l.escapeExpression,invokePartial:c,fn:function(b){return a[b]},programs:[],program:function(a,b){var c=this.programs[a],d=this.fn(a);return b?c=g(this,a,d,b):c||(c=this.programs[a]=g(this,a,d)),c},programWithDepth:b.VM.programWithDepth,data:function(a,b){for(;a&&b--;)a=a._parent;return a},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c=l.extend({},b,a)),c},noop:b.VM.noop,compilerInfo:a.compiler},e=function(b,c){c=c||{};var f=c.data;return e._setup(c),!c.partial&&a.useData&&(f=j(b,f)),a.main.call(d,b,d.helpers,d.partials,f)};return e._setup=function(c){c.partial?(d.helpers=c.helpers,d.partials=c.partials):(d.helpers=d.merge(c.helpers,b.helpers),a.usePartial&&(d.partials=d.merge(c.partials,b.partials)))},e._child=function(a){return d.programWithDepth(a)},e}function f(a,b){var c=Array.prototype.slice.call(arguments,2),d=this,e=d.fn(a),f=function(a,f){return f=f||{},e.apply(d,[a,d.helpers,d.partials,f.data||b].concat(c))};return f.program=a,f.depth=c.length,f}function g(a,b,c,d){var e=function(b,e){return e=e||{},c.call(a,b,a.helpers,a.partials,e.data||d)};return e.program=b,e.depth=0,e}function h(a,b,c,d,e,f){var g={partial:!0,helpers:d,partials:e,data:f};if(void 0===a)throw new m(\"The partial \"+b+\" could not be found\");return a instanceof Function?a(c,g):void 0}function i(){return\"\"}function j(a,b){return b&&\"root\"in b||(b=b?p(b):{},b.root=a),b}var k={},l=a,m=b,n=c.COMPILER_REVISION,o=c.REVISION_CHANGES,p=c.createFrame;return k.checkRevision=d,k.template=e,k.programWithDepth=f,k.program=g,k.invokePartial=h,k.noop=i,k}(b,c,d),f=function(a,b,c,d,e){\"use strict\";var f,g=a,h=b,i=c,j=d,k=e,l=function(){var a=new g.HandlebarsEnvironment;return j.extend(a,g),a.SafeString=h,a.Exception=i,a.Utils=j,a.VM=k,a.template=function(b){return k.template(b,a)},a},m=l();return m.create=l,f=m}(d,a,c,b,e),g=function(a){\"use strict\";function b(a){a=a||{},this.firstLine=a.first_line,this.firstColumn=a.first_column,this.lastColumn=a.last_column,this.lastLine=a.last_line}var c,d=a,e={ProgramNode:function(a,c,d,f){var g,h;3===arguments.length?(f=d,d=null):2===arguments.length&&(f=c,c=null),b.call(this,f),this.type=\"program\",this.statements=a,this.strip={},d?(h=d[0],h?(g={first_line:h.firstLine,last_line:h.lastLine,last_column:h.lastColumn,first_column:h.firstColumn},this.inverse=new e.ProgramNode(d,c,g)):this.inverse=new e.ProgramNode(d,c),this.strip.right=c.left):c&&(this.strip.left=c.right)},MustacheNode:function(a,c,d,f,g){if(b.call(this,g),this.type=\"mustache\",this.strip=f,null!=d&&d.charAt){var h=d.charAt(3)||d.charAt(2);this.escaped=\"{\"!==h&&\"&\"!==h}else this.escaped=!!d;this.sexpr=a instanceof e.SexprNode?a:new e.SexprNode(a,c),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(a,c,d){b.call(this,d),this.type=\"sexpr\",this.hash=c;var e=this.id=a[0],f=this.params=a.slice(1);this.isHelper=!(!f.length&&!c),this.eligibleHelper=this.isHelper||e.isSimple},PartialNode:function(a,c,d,e,f){b.call(this,f),this.type=\"partial\",this.partialName=a,this.context=c,this.hash=d,this.strip=e},BlockNode:function(a,c,e,f,g){if(b.call(this,g),a.sexpr.id.original!==f.path.original)throw new d(a.sexpr.id.original+\" doesn't match \"+f.path.original,this);this.type=\"block\",this.mustache=a,this.program=c,this.inverse=e,this.strip={left:a.strip.left,right:f.strip.right},(c||e).strip.left=a.strip.right,(e||c).strip.right=f.strip.left,e&&!c&&(this.isInverse=!0)},RawBlockNode:function(a,c,f,g){if(b.call(this,g),a.sexpr.id.original!==f)throw new d(a.sexpr.id.original+\" doesn't match \"+f,this);c=new e.ContentNode(c,g),this.type=\"block\",this.mustache=a,this.program=new e.ProgramNode([c],g)},ContentNode:function(a,c){b.call(this,c),this.type=\"content\",this.string=a},HashNode:function(a,c){b.call(this,c),this.type=\"hash\",this.pairs=a},IdNode:function(a,c){b.call(this,c),this.type=\"ID\";for(var e=\"\",f=[],g=0,h=\"\",i=0,j=a.length;j>i;i++){var k=a[i].part;if(e+=(a[i].separator||\"\")+k,\"..\"===k||\".\"===k||\"this\"===k){if(f.length>0)throw new d(\"Invalid path: \"+e,this);\"..\"===k?(g++,h+=\"../\"):this.isScoped=!0}else f.push(k)}this.original=e,this.parts=f,this.string=f.join(\".\"),this.depth=g,this.idName=h+this.string,this.isSimple=1===a.length&&!this.isScoped&&0===g,this.stringModeValue=this.string},PartialNameNode:function(a,c){b.call(this,c),this.type=\"PARTIAL_NAME\",this.name=a.original},DataNode:function(a,c){b.call(this,c),this.type=\"DATA\",this.id=a,this.stringModeValue=a.stringModeValue,this.idName=\"@\"+a.stringModeValue},StringNode:function(a,c){b.call(this,c),this.type=\"STRING\",this.original=this.string=this.stringModeValue=a},NumberNode:function(a,c){b.call(this,c),this.type=\"NUMBER\",this.original=this.number=a,this.stringModeValue=Number(a)},BooleanNode:function(a,c){b.call(this,c),this.type=\"BOOLEAN\",this.bool=a,this.stringModeValue=\"true\"===a},CommentNode:function(a,c){b.call(this,c),this.type=\"comment\",this.comment=a}};return c=e}(c),h=function(){\"use strict\";var a,b=function(){function a(a,b){return{left:\"~\"===a.charAt(2),right:\"~\"===b.charAt(0)||\"~\"===b.charAt(1)}}function b(){this.yy={}}var c={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openRawBlock:9,CONTENT:10,END_RAW_BLOCK:11,openInverse:12,closeBlock:13,openBlock:14,mustache:15,partial:16,COMMENT:17,OPEN_RAW_BLOCK:18,sexpr:19,CLOSE_RAW_BLOCK:20,OPEN_BLOCK:21,CLOSE:22,OPEN_INVERSE:23,OPEN_ENDBLOCK:24,path:25,OPEN:26,OPEN_UNESCAPED:27,CLOSE_UNESCAPED:28,OPEN_PARTIAL:29,partialName:30,param:31,partial_option0:32,partial_option1:33,sexpr_repetition0:34,sexpr_option0:35,dataName:36,STRING:37,NUMBER:38,BOOLEAN:39,OPEN_SEXPR:40,CLOSE_SEXPR:41,hash:42,hash_repetition_plus0:43,hashSegment:44,ID:45,EQUALS:46,DATA:47,pathSegments:48,SEP:49,$accept:0,$end:1},terminals_:{2:\"error\",5:\"EOF\",10:\"CONTENT\",11:\"END_RAW_BLOCK\",17:\"COMMENT\",18:\"OPEN_RAW_BLOCK\",20:\"CLOSE_RAW_BLOCK\",21:\"OPEN_BLOCK\",22:\"CLOSE\",23:\"OPEN_INVERSE\",24:\"OPEN_ENDBLOCK\",26:\"OPEN\",27:\"OPEN_UNESCAPED\",28:\"CLOSE_UNESCAPED\",29:\"OPEN_PARTIAL\",37:\"STRING\",38:\"NUMBER\",39:\"BOOLEAN\",40:\"OPEN_SEXPR\",41:\"CLOSE_SEXPR\",45:\"ID\",46:\"EQUALS\",47:\"DATA\",49:\"SEP\"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[9,3],[14,3],[12,3],[13,3],[15,3],[15,3],[16,5],[16,4],[7,2],[19,3],[19,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[42,1],[44,3],[30,1],[30,1],[30,1],[36,2],[25,1],[48,3],[48,1],[32,0],[32,1],[33,0],[33,1],[34,0],[34,2],[35,0],[35,1],[43,1],[43,2]],performAction:function(b,c,d,e,f,g){var h=g.length-1;switch(f){case 1:return new e.ProgramNode(g[h-1],this._$);case 2:return new e.ProgramNode([],this._$);case 3:this.$=new e.ProgramNode([],g[h-1],g[h],this._$);break;case 4:this.$=new e.ProgramNode(g[h-2],g[h-1],g[h],this._$);break;case 5:this.$=new e.ProgramNode(g[h-1],g[h],[],this._$);break;case 6:this.$=new e.ProgramNode(g[h],this._$);break;case 7:this.$=new e.ProgramNode([],this._$);break;case 8:this.$=new e.ProgramNode([],this._$);break;case 9:this.$=[g[h]];break;case 10:g[h-1].push(g[h]),this.$=g[h-1];break;case 11:this.$=new e.RawBlockNode(g[h-2],g[h-1],g[h],this._$);break;case 12:this.$=new e.BlockNode(g[h-2],g[h-1].inverse,g[h-1],g[h],this._$);break;case 13:this.$=new e.BlockNode(g[h-2],g[h-1],g[h-1].inverse,g[h],this._$);break;case 14:this.$=g[h];break;case 15:this.$=g[h];break;case 16:this.$=new e.ContentNode(g[h],this._$);break;case 17:this.$=new e.CommentNode(g[h],this._$);break;case 18:this.$=new e.MustacheNode(g[h-1],null,\"\",\"\",this._$);break;case 19:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 20:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 21:this.$={path:g[h-1],strip:a(g[h-2],g[h])};break;case 22:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 23:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 24:this.$=new e.PartialNode(g[h-3],g[h-2],g[h-1],a(g[h-4],g[h]),this._$);break;case 25:this.$=new e.PartialNode(g[h-2],void 0,g[h-1],a(g[h-3],g[h]),this._$);break;case 26:this.$=a(g[h-1],g[h]);break;case 27:this.$=new e.SexprNode([g[h-2]].concat(g[h-1]),g[h],this._$);break;case 28:this.$=new e.SexprNode([g[h]],null,this._$);break;case 29:this.$=g[h];break;case 30:this.$=new e.StringNode(g[h],this._$);break;case 31:this.$=new e.NumberNode(g[h],this._$);break;case 32:this.$=new e.BooleanNode(g[h],this._$);break;case 33:this.$=g[h];break;case 34:g[h-1].isHelper=!0,this.$=g[h-1];break;case 35:this.$=new e.HashNode(g[h],this._$);break;case 36:this.$=[g[h-2],g[h]];break;case 37:this.$=new e.PartialNameNode(g[h],this._$);break;case 38:this.$=new e.PartialNameNode(new e.StringNode(g[h],this._$),this._$);break;case 39:this.$=new e.PartialNameNode(new e.NumberNode(g[h],this._$));break;case 40:this.$=new e.DataNode(g[h],this._$);break;case 41:this.$=new e.IdNode(g[h],this._$);break;case 42:g[h-2].push({part:g[h],separator:g[h-1]}),this.$=g[h-2];break;case 43:this.$=[{part:g[h]}];break;case 48:this.$=[];break;case 49:g[h-1].push(g[h]);break;case 52:this.$=[g[h]];break;case 53:g[h-1].push(g[h])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,10:[1,10],12:6,14:7,15:8,16:9,17:[1,11],18:[1,12],21:[1,14],23:[1,13],26:[1,15],27:[1,16],29:[1,17]},{1:[3]},{5:[1,18],8:19,9:5,10:[1,10],12:6,14:7,15:8,16:9,17:[1,11],18:[1,12],21:[1,14],23:[1,13],26:[1,15],27:[1,16],29:[1,17]},{1:[2,2]},{5:[2,9],10:[2,9],17:[2,9],18:[2,9],21:[2,9],23:[2,9],24:[2,9],26:[2,9],27:[2,9],29:[2,9]},{10:[1,20]},{4:23,6:21,7:22,8:4,9:5,10:[1,10],12:6,14:7,15:8,16:9,17:[1,11],18:[1,12],21:[1,14],23:[1,24],24:[2,8],26:[1,15],27:[1,16],29:[1,17]},{4:23,6:25,7:22,8:4,9:5,10:[1,10],12:6,14:7,15:8,16:9,17:[1,11],18:[1,12],21:[1,14],23:[1,24],24:[2,8],26:[1,15],27:[1,16],29:[1,17]},{5:[2,14],10:[2,14],17:[2,14],18:[2,14],21:[2,14],23:[2,14],24:[2,14],26:[2,14],27:[2,14],29:[2,14]},{5:[2,15],10:[2,15],17:[2,15],18:[2,15],21:[2,15],23:[2,15],24:[2,15],26:[2,15],27:[2,15],29:[2,15]},{5:[2,16],10:[2,16],17:[2,16],18:[2,16],21:[2,16],23:[2,16],24:[2,16],26:[2,16],27:[2,16],29:[2,16]},{5:[2,17],10:[2,17],17:[2,17],18:[2,17],21:[2,17],23:[2,17],24:[2,17],26:[2,17],27:[2,17],29:[2,17]},{19:26,25:27,36:28,45:[1,31],47:[1,30],48:29},{19:32,25:27,36:28,45:[1,31],47:[1,30],48:29},{19:33,25:27,36:28,45:[1,31],47:[1,30],48:29},{19:34,25:27,36:28,45:[1,31],47:[1,30],48:29},{19:35,25:27,36:28,45:[1,31],47:[1,30],48:29},{25:37,30:36,37:[1,38],38:[1,39],45:[1,31],48:29},{1:[2,1]},{5:[2,10],10:[2,10],17:[2,10],18:[2,10],21:[2,10],23:[2,10],24:[2,10],26:[2,10],27:[2,10],29:[2,10]},{11:[1,40]},{13:41,24:[1,42]},{4:43,8:4,9:5,10:[1,10],12:6,14:7,15:8,16:9,17:[1,11],18:[1,12],21:[1,14],23:[1,13],24:[2,7],26:[1,15],27:[1,16],29:[1,17]},{7:44,8:19,9:5,10:[1,10],12:6,14:7,15:8,16:9,17:[1,11],18:[1,12],21:[1,14],23:[1,24],24:[2,6],26:[1,15],27:[1,16],29:[1,17]},{19:32,22:[1,45],25:27,36:28,45:[1,31],47:[1,30],48:29},{13:46,24:[1,42]},{20:[1,47]},{20:[2,48],22:[2,48],28:[2,48],34:48,37:[2,48],38:[2,48],39:[2,48],40:[2,48],41:[2,48],45:[2,48],47:[2,48]},{20:[2,28],22:[2,28],28:[2,28],41:[2,28]},{20:[2,41],22:[2,41],28:[2,41],37:[2,41],38:[2,41],39:[2,41],40:[2,41],41:[2,41],45:[2,41],47:[2,41],49:[1,49]},{25:50,45:[1,31],48:29},{20:[2,43],22:[2,43],28:[2,43],37:[2,43],38:[2,43],39:[2,43],40:[2,43],41:[2,43],45:[2,43],47:[2,43],49:[2,43]},{22:[1,51]},{22:[1,52]},{22:[1,53]},{28:[1,54]},{22:[2,46],25:57,31:55,33:56,36:61,37:[1,58],38:[1,59],39:[1,60],40:[1,62],42:63,43:64,44:66,45:[1,65],47:[1,30],48:29},{22:[2,37],37:[2,37],38:[2,37],39:[2,37],40:[2,37],45:[2,37],47:[2,37]},{22:[2,38],37:[2,38],38:[2,38],39:[2,38],40:[2,38],45:[2,38],47:[2,38]},{22:[2,39],37:[2,39],38:[2,39],39:[2,39],40:[2,39],45:[2,39],47:[2,39]},{5:[2,11],10:[2,11],17:[2,11],18:[2,11],21:[2,11],23:[2,11],24:[2,11],26:[2,11],27:[2,11],29:[2,11]},{5:[2,12],10:[2,12],17:[2,12],18:[2,12],21:[2,12],23:[2,12],24:[2,12],26:[2,12],27:[2,12],29:[2,12]},{25:67,45:[1,31],48:29},{8:19,9:5,10:[1,10],12:6,14:7,15:8,16:9,17:[1,11],18:[1,12],21:[1,14],23:[1,13],24:[2,3],26:[1,15],27:[1,16],29:[1,17]},{4:68,8:4,9:5,10:[1,10],12:6,14:7,15:8,16:9,17:[1,11],18:[1,12],21:[1,14],23:[1,13],24:[2,5],26:[1,15],27:[1,16],29:[1,17]},{10:[2,26],17:[2,26],18:[2,26],21:[2,26],23:[2,26],24:[2,26],26:[2,26],27:[2,26],29:[2,26]},{5:[2,13],10:[2,13],17:[2,13],18:[2,13],21:[2,13],23:[2,13],24:[2,13],26:[2,13],27:[2,13],29:[2,13]},{10:[2,18]},{20:[2,50],22:[2,50],25:57,28:[2,50],31:70,35:69,36:61,37:[1,58],38:[1,59],39:[1,60],40:[1,62],41:[2,50],42:71,43:64,44:66,45:[1,65],47:[1,30],48:29},{45:[1,72]},{20:[2,40],22:[2,40],28:[2,40],37:[2,40],38:[2,40],39:[2,40],40:[2,40],41:[2,40],45:[2,40],47:[2,40]},{10:[2,20],17:[2,20],18:[2,20],21:[2,20],23:[2,20],24:[2,20],26:[2,20],27:[2,20],29:[2,20]},{10:[2,19],17:[2,19],18:[2,19],21:[2,19],23:[2,19],24:[2,19],26:[2,19],27:[2,19],29:[2,19]},{5:[2,22],10:[2,22],17:[2,22],18:[2,22],21:[2,22],23:[2,22],24:[2,22],26:[2,22],27:[2,22],29:[2,22]},{5:[2,23],10:[2,23],17:[2,23],18:[2,23],21:[2,23],23:[2,23],24:[2,23],26:[2,23],27:[2,23],29:[2,23]},{22:[2,44],32:73,42:74,43:64,44:66,45:[1,75]},{22:[1,76]},{20:[2,29],22:[2,29],28:[2,29],37:[2,29],38:[2,29],39:[2,29],40:[2,29],41:[2,29],45:[2,29],47:[2,29]},{20:[2,30],22:[2,30],28:[2,30],37:[2,30],38:[2,30],39:[2,30],40:[2,30],41:[2,30],45:[2,30],47:[2,30]},{20:[2,31],22:[2,31],28:[2,31],37:[2,31],38:[2,31],39:[2,31],40:[2,31],41:[2,31],45:[2,31],47:[2,31]},{20:[2,32],22:[2,32],28:[2,32],37:[2,32],38:[2,32],39:[2,32],40:[2,32],41:[2,32],45:[2,32],47:[2,32]},{20:[2,33],22:[2,33],28:[2,33],37:[2,33],38:[2,33],39:[2,33],40:[2,33],41:[2,33],45:[2,33],47:[2,33]},{19:77,25:27,36:28,45:[1,31],47:[1,30],48:29},{22:[2,47]},{20:[2,35],22:[2,35],28:[2,35],41:[2,35],44:78,45:[1,75]},{20:[2,43],22:[2,43],28:[2,43],37:[2,43],38:[2,43],39:[2,43],40:[2,43],41:[2,43],45:[2,43],46:[1,79],47:[2,43],49:[2,43]},{20:[2,52],22:[2,52],28:[2,52],41:[2,52],45:[2,52]},{22:[1,80]},{8:19,9:5,10:[1,10],12:6,14:7,15:8,16:9,17:[1,11],18:[1,12],21:[1,14],23:[1,13],24:[2,4],26:[1,15],27:[1,16],29:[1,17]},{20:[2,27],22:[2,27],28:[2,27],41:[2,27]},{20:[2,49],22:[2,49],28:[2,49],37:[2,49],38:[2,49],39:[2,49],40:[2,49],41:[2,49],45:[2,49],47:[2,49]},{20:[2,51],22:[2,51],28:[2,51],41:[2,51]},{20:[2,42],22:[2,42],28:[2,42],37:[2,42],38:[2,42],39:[2,42],40:[2,42],41:[2,42],45:[2,42],47:[2,42],49:[2,42]},{22:[1,81]},{22:[2,45]},{46:[1,79]},{5:[2,25],10:[2,25],17:[2,25],18:[2,25],21:[2,25],23:[2,25],24:[2,25],26:[2,25],27:[2,25],29:[2,25]},{41:[1,82]},{20:[2,53],22:[2,53],28:[2,53],41:[2,53],45:[2,53]},{25:57,31:83,36:61,37:[1,58],38:[1,59],39:[1,60],40:[1,62],45:[1,31],47:[1,30],48:29},{5:[2,21],10:[2,21],17:[2,21],18:[2,21],21:[2,21],23:[2,21],24:[2,21],26:[2,21],27:[2,21],29:[2,21]},{5:[2,24],10:[2,24],17:[2,24],18:[2,24],21:[2,24],23:[2,24],24:[2,24],26:[2,24],27:[2,24],29:[2,24]},{20:[2,34],22:[2,34],28:[2,34],37:[2,34],38:[2,34],39:[2,34],40:[2,34],41:[2,34],45:[2,34],47:[2,34]},{20:[2,36],22:[2,36],28:[2,36],41:[2,36],45:[2,36]}],defaultActions:{3:[2,2],18:[2,1],47:[2,18],63:[2,47],74:[2,45]},parseError:function(a){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,\"number\"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h=\"\",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,\"undefined\"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;\"function\"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:((null===n||\"undefined\"==typeof n)&&(n=b()),q=g[p]&&g[p][n]),\"undefined\"==typeof q||!q.length||!q[0]){var x=\"\";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push(\"'\"+this.terminals_[s]+\"'\");x=this.lexer.showPosition?\"Parse error on line \"+(i+1)+\":\\n\"+this.lexer.showPosition()+\"\\nExpecting \"+v.join(\", \")+\", got '\"+(this.terminals_[n]||n)+\"'\":\"Parse error on line \"+(i+1)+\": Unexpected \"+(1==n?\"end of input\":\"'\"+(this.terminals_[n]||n)+\"'\"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error(\"Parse Error: multiple actions possible at state: \"+p+\", token: \"+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),\"undefined\"!=typeof r)return r;t&&(d=d.slice(0,-1*t*2),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},d=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match=\"\",this.conditionStack=[\"INITIAL\"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\\r\\n?|\\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\\r\\n?|\\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\\r\\n?|\\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?\"...\":\"\")+a.substr(-20).replace(/\\n/g,\"\")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?\"...\":\"\")).replace(/\\n/g,\"\")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join(\"-\");return a+this.upcomingInput()+\"\\n\"+b+\"^\"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext=\"\",this.match=\"\");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\\r\\n?|\\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\\r?\\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):\"\"===this._input?this.EOF:this.parseError(\"Lexical error on line \"+(this.yylineno+1)+\". Unrecognized text.\\n\"+this.showPosition(),{text:\"\",token:null,line:this.yylineno})},lex:function(){var a=this.next();return\"undefined\"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substr(a,b.yyleng-c)}switch(c){case 0:if(\"\\\\\\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin(\"mu\")):\"\\\\\"===b.yytext.slice(-1)?(e(0,1),this.begin(\"emu\")):this.begin(\"mu\"),b.yytext)return 10;break;case 1:return 10;case 2:return this.popState(),10;case 3:return b.yytext=b.yytext.substr(5,b.yyleng-9),this.popState(),11;case 4:return 10;case 5:return e(0,4),this.popState(),17;case 6:return 40;case 7:return 41;case 8:return 18;case 9:return this.popState(),this.begin(\"raw\"),20;case 10:return b.yytext=b.yytext.substr(4,b.yyleng-8),this.popState(),\"RAW_BLOCK\";case 11:return 29;case 12:return 21;case 13:return 24;case 14:return 23;case 15:return 23;case 16:return 27;case 17:return 26;case 18:this.popState(),this.begin(\"com\");break;case 19:return e(3,5),this.popState(),17;case 20:return 26;case 21:return 46;case 22:return 45;case 23:return 45;case 24:return 49;case 25:break;case 26:return this.popState(),28;case 27:return this.popState(),22;case 28:return b.yytext=e(1,2).replace(/\\\\\"/g,'\"'),37;case 29:return b.yytext=e(1,2).replace(/\\\\'/g,\"'\"),37;case 30:return 47;case 31:return 39;case 32:return 39;case 33:return 38;case 34:return 45;case 35:return b.yytext=e(1,2),45;case 36:return\"INVALID\";case 37:return 5}},a.rules=[/^(?:[^\\x00]*?(?=(\\{\\{)))/,/^(?:[^\\x00]+)/,/^(?:[^\\x00]{2,}?(?=(\\{\\{|\\\\\\{\\{|\\\\\\\\\\{\\{|$)))/,/^(?:\\{\\{\\{\\{\\/[^\\s!\"#%-,\\.\\/;->@\\[-\\^`\\{-~]+(?=[=}\\s\\/.])\\}\\}\\}\\})/,/^(?:[^\\x00]*?(?=(\\{\\{\\{\\{\\/)))/,/^(?:[\\s\\S]*?--\\}\\})/,/^(?:\\()/,/^(?:\\))/,/^(?:\\{\\{\\{\\{)/,/^(?:\\}\\}\\}\\})/,/^(?:\\{\\{\\{\\{[^\\x00]*\\}\\}\\}\\})/,/^(?:\\{\\{(~)?>)/,/^(?:\\{\\{(~)?#)/,/^(?:\\{\\{(~)?\\/)/,/^(?:\\{\\{(~)?\\^)/,/^(?:\\{\\{(~)?\\s*else\\b)/,/^(?:\\{\\{(~)?\\{)/,/^(?:\\{\\{(~)?&)/,/^(?:\\{\\{!--)/,/^(?:\\{\\{![\\s\\S]*?\\}\\})/,/^(?:\\{\\{(~)?)/,/^(?:=)/,/^(?:\\.\\.)/,/^(?:\\.(?=([=~}\\s\\/.)])))/,/^(?:[\\/.])/,/^(?:\\s+)/,/^(?:\\}(~)?\\}\\})/,/^(?:(~)?\\}\\})/,/^(?:\"(\\\\[\"]|[^\"])*\")/,/^(?:'(\\\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\\s)])))/,/^(?:false(?=([~}\\s)])))/,/^(?:-?[0-9]+(?:\\.[0-9]+)?(?=([~}\\s)])))/,/^(?:([^\\s!\"#%-,\\.\\/;->@\\[-\\^`\\{-~]+(?=([=~}\\s\\/.)]))))/,/^(?:\\[[^\\]]*\\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[5],inclusive:!1},raw:{rules:[3,4],inclusive:!1},INITIAL:{rules:[0,1,37],inclusive:!0}},a}();return c.lexer=d,b.prototype=c,c.Parser=b,new b}();return a=b}(),i=function(a,b){\"use strict\";function c(a){return a.constructor===f.ProgramNode?a:(e.yy=f,e.parse(a))}var d={},e=a,f=b;return d.parser=e,d.parse=c,d}(h,g),j=function(a){\"use strict\";function b(){}function c(a,b,c){if(null==a||\"string\"!=typeof a&&a.constructor!==c.AST.ProgramNode)throw new f(\"You must pass a string or Handlebars AST to Handlebars.precompile. You passed \"+a);b=b||{},\"data\"in b||(b.data=!0);var d=c.parse(a),e=(new c.Compiler).compile(d,b);return(new c.JavaScriptCompiler).compile(e,b)}function d(a,b,c){function d(){var d=c.parse(a),e=(new c.Compiler).compile(d,b),f=(new c.JavaScriptCompiler).compile(e,b,void 0,!0);return c.template(f)}if(null==a||\"string\"!=typeof a&&a.constructor!==c.AST.ProgramNode)throw new f(\"You must pass a string or Handlebars AST to Handlebars.compile. You passed \"+a);b=b||{},\"data\"in b||(b.data=!0);var e,g=function(a,b){return e||(e=d()),e.call(this,a,b)};return g._setup=function(a){return e||(e=d()),e._setup(a)},g._child=function(a){return e||(e=d()),e._child(a)},g}var e={},f=a;return e.Compiler=b,b.prototype={compiler:b,disassemble:function(){for(var a,b,c,d=this.opcodes,e=[],f=0,g=d.length;g>f;f++)if(a=d[f],\"DECLARE\"===a.opcode)e.push(\"DECLARE \"+a.name+\"=\"+a.value);else{b=[];for(var h=0;h<a.args.length;h++)c=a.args[h],\"string\"==typeof c&&(c='\"'+c.replace(\"\\n\",\"\\\\n\")+'\"'),b.push(c);e.push(a.opcode+\" \"+b.join(\" \"))}return e.join(\"\\n\")},equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;b>c;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||d.args.length!==e.args.length)return!1;for(var f=0;f<d.args.length;f++)if(d.args[f]!==e.args[f])return!1}if(b=this.children.length,a.children.length!==b)return!1;for(c=0;b>c;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=b,this.stringParams=b.stringParams,this.trackIds=b.trackIds;var c=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,\"if\":!0,unless:!0,\"with\":!0,log:!0,lookup:!0},c)for(var d in c)this.options.knownHelpers[d]=c[d];return this.accept(a)},accept:function(a){var b,c=a.strip||{};return c.left&&this.opcode(\"strip\"),b=this[a.type](a),c.right&&this.opcode(\"strip\"),b},program:function(a){for(var b=a.statements,c=0,d=b.length;d>c;c++)this.accept(b[c]);return this.isSimple=1===d,this.depths.list=this.depths.list.sort(function(a,b){return a-b}),this},compileProgram:function(a){var b,c=(new this.compiler).compile(a,this.options),d=this.guid++;this.usePartial=this.usePartial||c.usePartial,this.children[d]=c;for(var e=0,f=c.depths.list.length;f>e;e++)b=c.depths.list[e],2>b||this.addDepth(b-1);return d},block:function(a){var b=a.mustache,c=a.program,d=a.inverse;c&&(c=this.compileProgram(c)),d&&(d=this.compileProgram(d));var e=b.sexpr,f=this.classifySexpr(e);\"helper\"===f?this.helperSexpr(e,c,d):\"simple\"===f?(this.simpleSexpr(e),this.opcode(\"pushProgram\",c),this.opcode(\"pushProgram\",d),this.opcode(\"emptyHash\"),this.opcode(\"blockValue\",e.id.original)):(this.ambiguousSexpr(e,c,d),this.opcode(\"pushProgram\",c),this.opcode(\"pushProgram\",d),this.opcode(\"emptyHash\"),this.opcode(\"ambiguousBlockValue\")),this.opcode(\"append\")},hash:function(a){var b,c,d=a.pairs;for(this.opcode(\"pushHash\"),b=0,c=d.length;c>b;b++)this.pushParam(d[b][1]);for(;b--;)this.opcode(\"assignToHash\",d[b][0]);this.opcode(\"popHash\")},partial:function(a){var b=a.partialName;this.usePartial=!0,a.hash?this.accept(a.hash):this.opcode(\"push\",\"undefined\"),a.context?this.accept(a.context):this.opcode(\"push\",\"depth0\"),this.opcode(\"invokePartial\",b.name),this.opcode(\"append\")\n},content:function(a){this.opcode(\"appendContent\",a.string)},mustache:function(a){this.sexpr(a.sexpr),a.escaped&&!this.options.noEscape?this.opcode(\"appendEscaped\"):this.opcode(\"append\")},ambiguousSexpr:function(a,b,c){var d=a.id,e=d.parts[0],f=null!=b||null!=c;this.opcode(\"getContext\",d.depth),this.opcode(\"pushProgram\",b),this.opcode(\"pushProgram\",c),this.opcode(\"invokeAmbiguous\",e,f)},simpleSexpr:function(a){var b=a.id;\"DATA\"===b.type?this.DATA(b):b.parts.length?this.ID(b):(this.addDepth(b.depth),this.opcode(\"getContext\",b.depth),this.opcode(\"pushContext\")),this.opcode(\"resolvePossibleLambda\")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.id,g=e.parts[0];if(this.options.knownHelpers[g])this.opcode(\"invokeKnownHelper\",d.length,g);else{if(this.options.knownHelpersOnly)throw new f(\"You specified knownHelpersOnly, but used the unknown helper \"+g,a);this.ID(e),this.opcode(\"invokeHelper\",d.length,e.original,a.isRoot)}},sexpr:function(a){var b=this.classifySexpr(a);\"simple\"===b?this.simpleSexpr(a):\"helper\"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ID:function(a){this.addDepth(a.depth),this.opcode(\"getContext\",a.depth);var b=a.parts[0];b?this.opcode(\"lookupOnContext\",a.parts[0]):this.opcode(\"pushContext\");for(var c=1,d=a.parts.length;d>c;c++)this.opcode(\"lookup\",a.parts[c])},DATA:function(a){this.options.data=!0,this.opcode(\"lookupData\",a.id.depth);for(var b=a.id.parts,c=0,d=b.length;d>c;c++)this.opcode(\"lookup\",b[c])},STRING:function(a){this.opcode(\"pushString\",a.string)},NUMBER:function(a){this.opcode(\"pushLiteral\",a.number)},BOOLEAN:function(a){this.opcode(\"pushLiteral\",a.bool)},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,args:[].slice.call(arguments,1)})},declare:function(a,b){this.opcodes.push({opcode:\"DECLARE\",name:a,value:b})},addDepth:function(a){0!==a&&(this.depths[a]||(this.depths[a]=!0,this.depths.list.push(a)))},classifySexpr:function(a){var b=a.isHelper,c=a.eligibleHelper,d=this.options;if(c&&!b){var e=a.id.parts[0];d.knownHelpers[e]?b=!0:d.knownHelpersOnly&&(c=!1)}return b?\"helper\":c?\"ambiguous\":\"simple\"},pushParams:function(a){for(var b=0,c=a.length;c>b;b++)this.pushParam(a[b])},pushParam:function(a){this.stringParams?(a.depth&&this.addDepth(a.depth),this.opcode(\"getContext\",a.depth||0),this.opcode(\"pushStringParam\",a.stringModeValue,a.type),\"sexpr\"===a.type&&this.sexpr(a)):(this.trackIds&&this.opcode(\"pushId\",a.type,a.idName||a.stringModeValue),this.accept(a))},setupFullMustacheParams:function(a,b,c){var d=a.params;return this.pushParams(d),this.opcode(\"pushProgram\",b),this.opcode(\"pushProgram\",c),a.hash?this.hash(a.hash):this.opcode(\"emptyHash\"),d}},e.precompile=c,e.compile=d,e}(c),k=function(a,b){\"use strict\";function c(a){this.value=a}function d(){}var e,f=a.COMPILER_REVISION,g=a.REVISION_CHANGES,h=a.log,i=b;d.prototype={nameLookup:function(a,b){var c,e;return 0===a.indexOf(\"depth\")&&(c=!0),e=d.isValidJavaScriptVariableName(b)?a+\".\"+b:a+\"['\"+b+\"']\",c?\"(\"+a+\" && \"+e+\")\":e},compilerInfo:function(){var a=f,b=g[a];return[a,b]},appendToBuffer:function(a){return this.environment.isSimple?\"return \"+a+\";\":{appendToBuffer:!0,content:a,toString:function(){return\"buffer += \"+a+\";\"}}},initializeBuffer:function(){return this.quotedString(\"\")},namespace:\"Handlebars\",compile:function(a,b,c,d){this.environment=a,this.options=b||{},this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!d,h(\"debug\",this.environment.disassemble()+\"\\n\\n\"),this.name=this.environment.name,this.isChild=!!c,this.context=c||{programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(a,b);var e,f,g,j=a.opcodes;for(f=0,g=j.length;g>f;f++)e=j[f],\"DECLARE\"===e.opcode?this[e.name]=e.value:this[e.opcode].apply(this,e.args),e.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(\"\"),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new i(\"Compile completed with content left on stack\");var k=this.createFunctionContext(d);if(this.isChild)return k;var l={compiler:this.compilerInfo(),main:k},m=this.context.programs;for(f=0,g=m.length;g>f;f++)m[f]&&(l[f]=m[f]);return this.environment.usePartial&&(l.usePartial=!0),this.options.data&&(l.useData=!0),d||(l.compiler=JSON.stringify(l.compiler),l=this.objectLiteral(l)),l},preamble:function(){this.lastContext=0,this.source=[]},createFunctionContext:function(a){var b=\"\",c=this.stackVars.concat(this.registers.list);c.length>0&&(b+=\", \"+c.join(\", \"));for(var d in this.aliases)this.aliases.hasOwnProperty(d)&&(b+=\", \"+d+\"=\"+this.aliases[d]);for(var e=[\"depth0\",\"helpers\",\"partials\",\"data\"],f=0,g=this.environment.depths.list.length;g>f;f++)e.push(\"depth\"+this.environment.depths.list[f]);var h=this.mergeSource(b);return a?(e.push(h),Function.apply(this,e)):\"function(\"+e.join(\",\")+\") {\\n  \"+h+\"}\"},mergeSource:function(a){for(var b,c,d=\"\",e=!this.forceBuffer,f=0,g=this.source.length;g>f;f++){var h=this.source[f];h.appendToBuffer?b=b?b+\"\\n    + \"+h.content:h.content:(b&&(d?d+=\"buffer += \"+b+\";\\n  \":(c=!0,d=b+\";\\n  \"),b=void 0),d+=h+\"\\n  \",this.environment.isSimple||(e=!1))}return e?(b||!d)&&(d+=\"return \"+(b||'\"\"')+\";\\n\"):(a+=\", buffer = \"+(c?\"\":this.initializeBuffer()),d+=b?\"return buffer + \"+b+\";\\n\":\"return buffer;\\n\"),a&&(d=\"var \"+a.substring(2)+(c?\"\":\";\\n  \")+d),d},blockValue:function(a){this.aliases.blockHelperMissing=\"helpers.blockHelperMissing\";var b=[\"depth0\"];this.setupParams(a,0,b),this.replaceStack(function(a){return b.splice(1,0,a),\"blockHelperMissing.call(\"+b.join(\", \")+\")\"})},ambiguousBlockValue:function(){this.aliases.blockHelperMissing=\"helpers.blockHelperMissing\";var a=[\"depth0\"];this.setupParams(\"\",0,a,!0),this.flushInline();var b=this.topStack();a.splice(1,0,b),this.pushSource(\"if (!\"+this.lastHelper+\") { \"+b+\" = blockHelperMissing.call(\"+a.join(\", \")+\"); }\")},appendContent:function(a){this.pendingContent&&(a=this.pendingContent+a),this.stripNext&&(a=a.replace(/^\\s+/,\"\")),this.pendingContent=a},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\\s+$/,\"\")),this.stripNext=\"strip\"},append:function(){this.flushInline();var a=this.popStack();this.pushSource(\"if(\"+a+\" || \"+a+\" === 0) { \"+this.appendToBuffer(a)+\" }\"),this.environment.isSimple&&this.pushSource(\"else { \"+this.appendToBuffer(\"''\")+\" }\")},appendEscaped:function(){this.aliases.escapeExpression=\"this.escapeExpression\",this.pushSource(this.appendToBuffer(\"escapeExpression(\"+this.popStack()+\")\"))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.push(this.nameLookup(\"depth\"+this.lastContext,a,\"context\"))},pushContext:function(){this.pushStackLiteral(\"depth\"+this.lastContext)},resolvePossibleLambda:function(){this.aliases.functionType='\"function\"',this.replaceStack(function(a){return\"typeof \"+a+\" === functionType ? \"+a+\".apply(depth0) : \"+a})},lookup:function(a){this.replaceStack(function(b){return b+\" == null || \"+b+\" === false ? \"+b+\" : \"+this.nameLookup(b,a,\"context\")})},lookupData:function(a){a?this.pushStackLiteral(\"this.data(data, \"+a+\")\"):this.pushStackLiteral(\"data\")},pushStringParam:function(a,b){this.pushStackLiteral(\"depth\"+this.lastContext),this.pushString(b),\"sexpr\"!==b&&(\"string\"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(){this.pushStackLiteral(\"{}\"),this.trackIds&&this.push(\"{}\"),this.stringParams&&(this.push(\"{}\"),this.push(\"{}\"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(\"{\"+a.ids.join(\",\")+\"}\"),this.stringParams&&(this.push(\"{\"+a.contexts.join(\",\")+\"}\"),this.push(\"{\"+a.types.join(\",\")+\"}\")),this.push(\"{\\n    \"+a.values.join(\",\\n    \")+\"\\n  }\")},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},push:function(a){return this.inlineStack.push(a),a},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},invokeHelper:function(a,b,c){this.aliases.helperMissing=\"helpers.helperMissing\",this.useRegister(\"helper\");var d=this.popStack(),e=this.setupHelper(a,b),f=\"helper = \"+e.name+\" || \"+d+\" || helperMissing\";e.paramsInit&&(f+=\",\"+e.paramsInit),this.push(\"(\"+f+\",helper.call(\"+e.callParams+\"))\"),c||this.flushInline()},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(c.name+\".call(\"+c.callParams+\")\")},invokeAmbiguous:function(a,b){this.aliases.functionType='\"function\"',this.useRegister(\"helper\"),this.emptyHash();var c=this.setupHelper(0,a,b),d=this.lastHelper=this.nameLookup(\"helpers\",a,\"helper\"),e=this.nameLookup(\"depth\"+this.lastContext,a,\"context\");this.push(\"((helper = \"+d+\" || \"+e+(c.paramsInit?\"),(\"+c.paramsInit:\"\")+\"),(typeof helper === functionType ? helper.call(\"+c.callParams+\") : helper))\")},invokePartial:function(a){var b=[this.nameLookup(\"partials\",a,\"partial\"),\"'\"+a+\"'\",this.popStack(),this.popStack(),\"helpers\",\"partials\"];this.options.data&&b.push(\"data\"),this.push(\"this.invokePartial(\"+b.join(\", \")+\")\")},assignToHash:function(a){var b,c,d,e=this.popStack();this.trackIds&&(d=this.popStack()),this.stringParams&&(c=this.popStack(),b=this.popStack());var f=this.hash;b&&f.contexts.push(\"'\"+a+\"': \"+b),c&&f.types.push(\"'\"+a+\"': \"+c),d&&f.ids.push(\"'\"+a+\"': \"+d),f.values.push(\"'\"+a+\"': (\"+e+\")\")},pushId:function(a,b){\"ID\"===a||\"DATA\"===a?this.pushString(b):\"sexpr\"===a?this.pushStackLiteral(\"true\"):this.pushStackLiteral(\"null\")},compiler:d,compileChildren:function(a,b){for(var c,d,e=a.children,f=0,g=e.length;g>f;f++){c=e[f],d=new this.compiler;var h=this.matchExistingProgram(c);null==h?(this.context.programs.push(\"\"),h=this.context.programs.length,c.index=h,c.name=\"program\"+h,this.context.programs[h]=d.compile(c,b,this.context,!this.precompile),this.context.environments[h]=c):(c.index=h,c.name=\"program\"+h)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;c>b;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){if(null==a)return\"this.noop\";for(var b,c=this.environment.children[a],d=c.depths.list,e=[c.index,\"data\"],f=0,g=d.length;g>f;f++)b=d[f],e.push(\"depth\"+(b-1));return(0===d.length?\"this.program(\":\"this.programWithDepth(\")+e.join(\", \")+\")\"},register:function(a,b){this.useRegister(a),this.pushSource(a+\" = \"+b+\";\")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new c(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),a&&this.source.push(a)},pushStack:function(a){this.flushInline();var b=this.incrStack();return a&&this.pushSource(b+\" = \"+a+\";\"),this.compileStack.push(b),b},replaceStack:function(a){var b,d,e,f=\"\",g=this.isInline();if(g){var h=this.popStack(!0);if(h instanceof c)b=h.value,e=!0;else{d=!this.stackSlot;var i=d?this.incrStack():this.topStackName();f=\"(\"+this.push(i)+\" = \"+h+\"),\",b=this.topStack()}}else b=this.topStack();var j=a.call(this,b);return g?(e||this.popStack(),d&&this.stackSlot--,this.push(\"(\"+f+j+\")\")):(/^stack/.test(b)||(b=this.nextStack()),this.pushSource(b+\" = (\"+f+j+\");\")),b},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push(\"stack\"+this.stackSlot),this.topStackName()},topStackName:function(){return\"stack\"+this.stackSlot},flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var b=0,d=a.length;d>b;b++){var e=a[b];e instanceof c?this.compileStack.push(e):this.pushStack(e)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),d=(b?this.inlineStack:this.compileStack).pop();if(!a&&d instanceof c)return d.value;if(!b){if(!this.stackSlot)throw new i(\"Invalid stack pop\");this.stackSlot--}return d},topStack:function(a){var b=this.isInline()?this.inlineStack:this.compileStack,d=b[b.length-1];return!a&&d instanceof c?d.value:d},quotedString:function(a){return'\"'+a.replace(/\\\\/g,\"\\\\\\\\\").replace(/\"/g,'\\\\\"').replace(/\\n/g,\"\\\\n\").replace(/\\r/g,\"\\\\r\").replace(/\\u2028/g,\"\\\\u2028\").replace(/\\u2029/g,\"\\\\u2029\")+'\"'},objectLiteral:function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(this.quotedString(c)+\":\"+a[c]);return\"{\"+b.join(\",\")+\"}\"},setupHelper:function(a,b,c){var d=[],e=this.setupParams(b,a,d,c),f=this.nameLookup(\"helpers\",b,\"helper\");return{params:d,paramsInit:e,name:f,callParams:[\"depth0\"].concat(d).join(\", \")}},setupOptions:function(a,b,c){var d,e,f,g={},h=[],i=[],j=[];g.name=this.quotedString(a),g.hash=this.popStack(),this.trackIds&&(g.hashIds=this.popStack()),this.stringParams&&(g.hashTypes=this.popStack(),g.hashContexts=this.popStack()),e=this.popStack(),f=this.popStack(),(f||e)&&(f||(f=\"this.noop\"),e||(e=\"this.noop\"),g.fn=f,g.inverse=e);for(var k=b;k--;)d=this.popStack(),c[k]=d,this.trackIds&&(j[k]=this.popStack()),this.stringParams&&(i[k]=this.popStack(),h[k]=this.popStack());return this.trackIds&&(g.ids=\"[\"+j.join(\",\")+\"]\"),this.stringParams&&(g.types=\"[\"+i.join(\",\")+\"]\",g.contexts=\"[\"+h.join(\",\")+\"]\"),this.options.data&&(g.data=\"data\"),g},setupParams:function(a,b,c,d){var e=this.objectLiteral(this.setupOptions(a,b,c));return d?(this.useRegister(\"options\"),c.push(\"options\"),\"options=\"+e):(c.push(e),\"\")}};for(var j=\"break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield\".split(\" \"),k=d.RESERVED_WORDS={},l=0,m=j.length;m>l;l++)k[j[l]]=!0;return d.isValidJavaScriptVariableName=function(a){return!d.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)},e=d}(d,c),l=function(a,b,c,d,e){\"use strict\";var f,g=a,h=b,i=c.parser,j=c.parse,k=d.Compiler,l=d.compile,m=d.precompile,n=e,o=g.create,p=function(){var a=o();return a.compile=function(b,c){return l(b,c,a)},a.precompile=function(b,c){return m(b,c,a)},a.AST=h,a.Compiler=k,a.JavaScriptCompiler=n,a.Parser=i,a.parse=j,a};return g=p(),g.create=p,f=g}(f,g,i,j,k);return l}();\n},{}],16:[function(require,module,exports){\n// TinyColor v1.3.0\n// https://github.com/bgrins/TinyColor\n// 2015-11-27, Brian Grinstead, MIT License\n!function(){function tinycolor(color,opts){if(color=color?color:\"\",opts=opts||{},color instanceof tinycolor)return color;if(!(this instanceof tinycolor))return new tinycolor(color,opts);var rgb=inputToRGB(color);this._originalInput=color,this._r=rgb.r,this._g=rgb.g,this._b=rgb.b,this._a=rgb.a,this._roundA=mathRound(100*this._a)/100,this._format=opts.format||rgb.format,this._gradientType=opts.gradientType,this._r<1&&(this._r=mathRound(this._r)),this._g<1&&(this._g=mathRound(this._g)),this._b<1&&(this._b=mathRound(this._b)),this._ok=rgb.ok,this._tc_id=tinyCounter++}function inputToRGB(color){var rgb={r:0,g:0,b:0},a=1,ok=!1,format=!1;return\"string\"==typeof color&&(color=stringInputToObject(color)),\"object\"==typeof color&&(color.hasOwnProperty(\"r\")&&color.hasOwnProperty(\"g\")&&color.hasOwnProperty(\"b\")?(rgb=rgbToRgb(color.r,color.g,color.b),ok=!0,format=\"%\"===String(color.r).substr(-1)?\"prgb\":\"rgb\"):color.hasOwnProperty(\"h\")&&color.hasOwnProperty(\"s\")&&color.hasOwnProperty(\"v\")?(color.s=convertToPercentage(color.s),color.v=convertToPercentage(color.v),rgb=hsvToRgb(color.h,color.s,color.v),ok=!0,format=\"hsv\"):color.hasOwnProperty(\"h\")&&color.hasOwnProperty(\"s\")&&color.hasOwnProperty(\"l\")&&(color.s=convertToPercentage(color.s),color.l=convertToPercentage(color.l),rgb=hslToRgb(color.h,color.s,color.l),ok=!0,format=\"hsl\"),color.hasOwnProperty(\"a\")&&(a=color.a)),a=boundAlpha(a),{ok:ok,format:color.format||format,r:mathMin(255,mathMax(rgb.r,0)),g:mathMin(255,mathMax(rgb.g,0)),b:mathMin(255,mathMax(rgb.b,0)),a:a}}function rgbToRgb(r,g,b){return{r:255*bound01(r,255),g:255*bound01(g,255),b:255*bound01(b,255)}}function rgbToHsl(r,g,b){r=bound01(r,255),g=bound01(g,255),b=bound01(b,255);var h,s,max=mathMax(r,g,b),min=mathMin(r,g,b),l=(max+min)/2;if(max==min)h=s=0;else{var d=max-min;switch(s=l>.5?d/(2-max-min):d/(max+min),max){case r:h=(g-b)/d+(b>g?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return{h:h,s:s,l:l}}function hslToRgb(h,s,l){function hue2rgb(p,q,t){return 0>t&&(t+=1),t>1&&(t-=1),1/6>t?p+6*(q-p)*t:.5>t?q:2/3>t?p+6*(q-p)*(2/3-t):p}var r,g,b;if(h=bound01(h,360),s=bound01(s,100),l=bound01(l,100),0===s)r=g=b=l;else{var q=.5>l?l*(1+s):l+s-l*s,p=2*l-q;r=hue2rgb(p,q,h+1/3),g=hue2rgb(p,q,h),b=hue2rgb(p,q,h-1/3)}return{r:255*r,g:255*g,b:255*b}}function rgbToHsv(r,g,b){r=bound01(r,255),g=bound01(g,255),b=bound01(b,255);var h,s,max=mathMax(r,g,b),min=mathMin(r,g,b),v=max,d=max-min;if(s=0===max?0:d/max,max==min)h=0;else{switch(max){case r:h=(g-b)/d+(b>g?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return{h:h,s:s,v:v}}function hsvToRgb(h,s,v){h=6*bound01(h,360),s=bound01(s,100),v=bound01(v,100);var i=math.floor(h),f=h-i,p=v*(1-s),q=v*(1-f*s),t=v*(1-(1-f)*s),mod=i%6,r=[v,q,p,p,t,v][mod],g=[t,v,v,q,p,p][mod],b=[p,p,t,v,v,q][mod];return{r:255*r,g:255*g,b:255*b}}function rgbToHex(r,g,b,allow3Char){var hex=[pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))];return allow3Char&&hex[0].charAt(0)==hex[0].charAt(1)&&hex[1].charAt(0)==hex[1].charAt(1)&&hex[2].charAt(0)==hex[2].charAt(1)?hex[0].charAt(0)+hex[1].charAt(0)+hex[2].charAt(0):hex.join(\"\")}function rgbaToHex(r,g,b,a){var hex=[pad2(convertDecimalToHex(a)),pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))];return hex.join(\"\")}function desaturate(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();return hsl.s-=amount/100,hsl.s=clamp01(hsl.s),tinycolor(hsl)}function saturate(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();return hsl.s+=amount/100,hsl.s=clamp01(hsl.s),tinycolor(hsl)}function greyscale(color){return tinycolor(color).desaturate(100)}function lighten(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();return hsl.l+=amount/100,hsl.l=clamp01(hsl.l),tinycolor(hsl)}function brighten(color,amount){amount=0===amount?0:amount||10;var rgb=tinycolor(color).toRgb();return rgb.r=mathMax(0,mathMin(255,rgb.r-mathRound(255*-(amount/100)))),rgb.g=mathMax(0,mathMin(255,rgb.g-mathRound(255*-(amount/100)))),rgb.b=mathMax(0,mathMin(255,rgb.b-mathRound(255*-(amount/100)))),tinycolor(rgb)}function darken(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();return hsl.l-=amount/100,hsl.l=clamp01(hsl.l),tinycolor(hsl)}function spin(color,amount){var hsl=tinycolor(color).toHsl(),hue=(mathRound(hsl.h)+amount)%360;return hsl.h=0>hue?360+hue:hue,tinycolor(hsl)}function complement(color){var hsl=tinycolor(color).toHsl();return hsl.h=(hsl.h+180)%360,tinycolor(hsl)}function triad(color){var hsl=tinycolor(color).toHsl(),h=hsl.h;return[tinycolor(color),tinycolor({h:(h+120)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+240)%360,s:hsl.s,l:hsl.l})]}function tetrad(color){var hsl=tinycolor(color).toHsl(),h=hsl.h;return[tinycolor(color),tinycolor({h:(h+90)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+180)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+270)%360,s:hsl.s,l:hsl.l})]}function splitcomplement(color){var hsl=tinycolor(color).toHsl(),h=hsl.h;return[tinycolor(color),tinycolor({h:(h+72)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+216)%360,s:hsl.s,l:hsl.l})]}function analogous(color,results,slices){results=results||6,slices=slices||30;var hsl=tinycolor(color).toHsl(),part=360/slices,ret=[tinycolor(color)];for(hsl.h=(hsl.h-(part*results>>1)+720)%360;--results;)hsl.h=(hsl.h+part)%360,ret.push(tinycolor(hsl));return ret}function monochromatic(color,results){results=results||6;for(var hsv=tinycolor(color).toHsv(),h=hsv.h,s=hsv.s,v=hsv.v,ret=[],modification=1/results;results--;)ret.push(tinycolor({h:h,s:s,v:v})),v=(v+modification)%1;return ret}function flip(o){var flipped={};for(var i in o)o.hasOwnProperty(i)&&(flipped[o[i]]=i);return flipped}function boundAlpha(a){return a=parseFloat(a),(isNaN(a)||0>a||a>1)&&(a=1),a}function bound01(n,max){isOnePointZero(n)&&(n=\"100%\");var processPercent=isPercentage(n);return n=mathMin(max,mathMax(0,parseFloat(n))),processPercent&&(n=parseInt(n*max,10)/100),math.abs(n-max)<1e-6?1:n%max/parseFloat(max)}function clamp01(val){return mathMin(1,mathMax(0,val))}function parseIntFromHex(val){return parseInt(val,16)}function isOnePointZero(n){return\"string\"==typeof n&&-1!=n.indexOf(\".\")&&1===parseFloat(n)}function isPercentage(n){return\"string\"==typeof n&&-1!=n.indexOf(\"%\")}function pad2(c){return 1==c.length?\"0\"+c:\"\"+c}function convertToPercentage(n){return 1>=n&&(n=100*n+\"%\"),n}function convertDecimalToHex(d){return Math.round(255*parseFloat(d)).toString(16)}function convertHexToDecimal(h){return parseIntFromHex(h)/255}function stringInputToObject(color){color=color.replace(trimLeft,\"\").replace(trimRight,\"\").toLowerCase();var named=!1;if(names[color])color=names[color],named=!0;else if(\"transparent\"==color)return{r:0,g:0,b:0,a:0,format:\"name\"};var match;return(match=matchers.rgb.exec(color))?{r:match[1],g:match[2],b:match[3]}:(match=matchers.rgba.exec(color))?{r:match[1],g:match[2],b:match[3],a:match[4]}:(match=matchers.hsl.exec(color))?{h:match[1],s:match[2],l:match[3]}:(match=matchers.hsla.exec(color))?{h:match[1],s:match[2],l:match[3],a:match[4]}:(match=matchers.hsv.exec(color))?{h:match[1],s:match[2],v:match[3]}:(match=matchers.hsva.exec(color))?{h:match[1],s:match[2],v:match[3],a:match[4]}:(match=matchers.hex8.exec(color))?{a:convertHexToDecimal(match[1]),r:parseIntFromHex(match[2]),g:parseIntFromHex(match[3]),b:parseIntFromHex(match[4]),format:named?\"name\":\"hex8\"}:(match=matchers.hex6.exec(color))?{r:parseIntFromHex(match[1]),g:parseIntFromHex(match[2]),b:parseIntFromHex(match[3]),format:named?\"name\":\"hex\"}:(match=matchers.hex3.exec(color))?{r:parseIntFromHex(match[1]+\"\"+match[1]),g:parseIntFromHex(match[2]+\"\"+match[2]),b:parseIntFromHex(match[3]+\"\"+match[3]),format:named?\"name\":\"hex\"}:!1}function validateWCAG2Parms(parms){var level,size;return parms=parms||{level:\"AA\",size:\"small\"},level=(parms.level||\"AA\").toUpperCase(),size=(parms.size||\"small\").toLowerCase(),\"AA\"!==level&&\"AAA\"!==level&&(level=\"AA\"),\"small\"!==size&&\"large\"!==size&&(size=\"small\"),{level:level,size:size}}var trimLeft=/^\\s+/,trimRight=/\\s+$/,tinyCounter=0,math=Math,mathRound=math.round,mathMin=math.min,mathMax=math.max,mathRandom=math.random;tinycolor.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var rgb=this.toRgb();return(299*rgb.r+587*rgb.g+114*rgb.b)/1e3},getLuminance:function(){var RsRGB,GsRGB,BsRGB,R,G,B,rgb=this.toRgb();return RsRGB=rgb.r/255,GsRGB=rgb.g/255,BsRGB=rgb.b/255,R=.03928>=RsRGB?RsRGB/12.92:Math.pow((RsRGB+.055)/1.055,2.4),G=.03928>=GsRGB?GsRGB/12.92:Math.pow((GsRGB+.055)/1.055,2.4),B=.03928>=BsRGB?BsRGB/12.92:Math.pow((BsRGB+.055)/1.055,2.4),.2126*R+.7152*G+.0722*B},setAlpha:function(value){return this._a=boundAlpha(value),this._roundA=mathRound(100*this._a)/100,this},toHsv:function(){var hsv=rgbToHsv(this._r,this._g,this._b);return{h:360*hsv.h,s:hsv.s,v:hsv.v,a:this._a}},toHsvString:function(){var hsv=rgbToHsv(this._r,this._g,this._b),h=mathRound(360*hsv.h),s=mathRound(100*hsv.s),v=mathRound(100*hsv.v);return 1==this._a?\"hsv(\"+h+\", \"+s+\"%, \"+v+\"%)\":\"hsva(\"+h+\", \"+s+\"%, \"+v+\"%, \"+this._roundA+\")\"},toHsl:function(){var hsl=rgbToHsl(this._r,this._g,this._b);return{h:360*hsl.h,s:hsl.s,l:hsl.l,a:this._a}},toHslString:function(){var hsl=rgbToHsl(this._r,this._g,this._b),h=mathRound(360*hsl.h),s=mathRound(100*hsl.s),l=mathRound(100*hsl.l);return 1==this._a?\"hsl(\"+h+\", \"+s+\"%, \"+l+\"%)\":\"hsla(\"+h+\", \"+s+\"%, \"+l+\"%, \"+this._roundA+\")\"},toHex:function(allow3Char){return rgbToHex(this._r,this._g,this._b,allow3Char)},toHexString:function(allow3Char){return\"#\"+this.toHex(allow3Char)},toHex8:function(){return rgbaToHex(this._r,this._g,this._b,this._a)},toHex8String:function(){return\"#\"+this.toHex8()},toRgb:function(){return{r:mathRound(this._r),g:mathRound(this._g),b:mathRound(this._b),a:this._a}},toRgbString:function(){return 1==this._a?\"rgb(\"+mathRound(this._r)+\", \"+mathRound(this._g)+\", \"+mathRound(this._b)+\")\":\"rgba(\"+mathRound(this._r)+\", \"+mathRound(this._g)+\", \"+mathRound(this._b)+\", \"+this._roundA+\")\"},toPercentageRgb:function(){return{r:mathRound(100*bound01(this._r,255))+\"%\",g:mathRound(100*bound01(this._g,255))+\"%\",b:mathRound(100*bound01(this._b,255))+\"%\",a:this._a}},toPercentageRgbString:function(){return 1==this._a?\"rgb(\"+mathRound(100*bound01(this._r,255))+\"%, \"+mathRound(100*bound01(this._g,255))+\"%, \"+mathRound(100*bound01(this._b,255))+\"%)\":\"rgba(\"+mathRound(100*bound01(this._r,255))+\"%, \"+mathRound(100*bound01(this._g,255))+\"%, \"+mathRound(100*bound01(this._b,255))+\"%, \"+this._roundA+\")\"},toName:function(){return 0===this._a?\"transparent\":this._a<1?!1:hexNames[rgbToHex(this._r,this._g,this._b,!0)]||!1},toFilter:function(secondColor){var hex8String=\"#\"+rgbaToHex(this._r,this._g,this._b,this._a),secondHex8String=hex8String,gradientType=this._gradientType?\"GradientType = 1, \":\"\";if(secondColor){var s=tinycolor(secondColor);secondHex8String=s.toHex8String()}return\"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\"},toString:function(format){var formatSet=!!format;format=format||this._format;var formattedString=!1,hasAlpha=this._a<1&&this._a>=0,needsAlphaFormat=!formatSet&&hasAlpha&&(\"hex\"===format||\"hex6\"===format||\"hex3\"===format||\"name\"===format);return needsAlphaFormat?\"name\"===format&&0===this._a?this.toName():this.toRgbString():(\"rgb\"===format&&(formattedString=this.toRgbString()),\"prgb\"===format&&(formattedString=this.toPercentageRgbString()),(\"hex\"===format||\"hex6\"===format)&&(formattedString=this.toHexString()),\"hex3\"===format&&(formattedString=this.toHexString(!0)),\"hex8\"===format&&(formattedString=this.toHex8String()),\"name\"===format&&(formattedString=this.toName()),\"hsl\"===format&&(formattedString=this.toHslString()),\"hsv\"===format&&(formattedString=this.toHsvString()),formattedString||this.toHexString())},clone:function(){return tinycolor(this.toString())},_applyModification:function(fn,args){var color=fn.apply(null,[this].concat([].slice.call(args)));return this._r=color._r,this._g=color._g,this._b=color._b,this.setAlpha(color._a),this},lighten:function(){return this._applyModification(lighten,arguments)},brighten:function(){return this._applyModification(brighten,arguments)},darken:function(){return this._applyModification(darken,arguments)},desaturate:function(){return this._applyModification(desaturate,arguments)},saturate:function(){return this._applyModification(saturate,arguments)},greyscale:function(){return this._applyModification(greyscale,arguments)},spin:function(){return this._applyModification(spin,arguments)},_applyCombination:function(fn,args){return fn.apply(null,[this].concat([].slice.call(args)))},analogous:function(){return this._applyCombination(analogous,arguments)},complement:function(){return this._applyCombination(complement,arguments)},monochromatic:function(){return this._applyCombination(monochromatic,arguments)},splitcomplement:function(){return this._applyCombination(splitcomplement,arguments)},triad:function(){return this._applyCombination(triad,arguments)},tetrad:function(){return this._applyCombination(tetrad,arguments)}},tinycolor.fromRatio=function(color,opts){if(\"object\"==typeof color){var newColor={};for(var i in color)color.hasOwnProperty(i)&&(newColor[i]=\"a\"===i?color[i]:convertToPercentage(color[i]));color=newColor}return tinycolor(color,opts)},tinycolor.equals=function(color1,color2){return color1&&color2?tinycolor(color1).toRgbString()==tinycolor(color2).toRgbString():!1},tinycolor.random=function(){return tinycolor.fromRatio({r:mathRandom(),g:mathRandom(),b:mathRandom()})},tinycolor.mix=function(color1,color2,amount){amount=0===amount?0:amount||50;var w1,rgb1=tinycolor(color1).toRgb(),rgb2=tinycolor(color2).toRgb(),p=amount/100,w=2*p-1,a=rgb2.a-rgb1.a;w1=-1==w*a?w:(w+a)/(1+w*a),w1=(w1+1)/2;var w2=1-w1,rgba={r:rgb2.r*w1+rgb1.r*w2,g:rgb2.g*w1+rgb1.g*w2,b:rgb2.b*w1+rgb1.b*w2,a:rgb2.a*p+rgb1.a*(1-p)};return tinycolor(rgba)},tinycolor.readability=function(color1,color2){var c1=tinycolor(color1),c2=tinycolor(color2);return(Math.max(c1.getLuminance(),c2.getLuminance())+.05)/(Math.min(c1.getLuminance(),c2.getLuminance())+.05)},tinycolor.isReadable=function(color1,color2,wcag2){var wcag2Parms,out,readability=tinycolor.readability(color1,color2);switch(out=!1,wcag2Parms=validateWCAG2Parms(wcag2),wcag2Parms.level+wcag2Parms.size){case\"AAsmall\":case\"AAAlarge\":out=readability>=4.5;break;case\"AAlarge\":out=readability>=3;break;case\"AAAsmall\":out=readability>=7}return out},tinycolor.mostReadable=function(baseColor,colorList,args){var readability,includeFallbackColors,level,size,bestColor=null,bestScore=0;args=args||{},includeFallbackColors=args.includeFallbackColors,level=args.level,size=args.size;for(var i=0;i<colorList.length;i++)readability=tinycolor.readability(baseColor,colorList[i]),readability>bestScore&&(bestScore=readability,bestColor=tinycolor(colorList[i]));return tinycolor.isReadable(baseColor,bestColor,{level:level,size:size})||!includeFallbackColors?bestColor:(args.includeFallbackColors=!1,tinycolor.mostReadable(baseColor,[\"#fff\",\"#000\"],args))};var names=tinycolor.names={aliceblue:\"f0f8ff\",antiquewhite:\"faebd7\",aqua:\"0ff\",aquamarine:\"7fffd4\",azure:\"f0ffff\",beige:\"f5f5dc\",bisque:\"ffe4c4\",black:\"000\",blanchedalmond:\"ffebcd\",blue:\"00f\",blueviolet:\"8a2be2\",brown:\"a52a2a\",burlywood:\"deb887\",burntsienna:\"ea7e5d\",cadetblue:\"5f9ea0\",chartreuse:\"7fff00\",chocolate:\"d2691e\",coral:\"ff7f50\",cornflowerblue:\"6495ed\",cornsilk:\"fff8dc\",crimson:\"dc143c\",cyan:\"0ff\",darkblue:\"00008b\",darkcyan:\"008b8b\",darkgoldenrod:\"b8860b\",darkgray:\"a9a9a9\",darkgreen:\"006400\",darkgrey:\"a9a9a9\",darkkhaki:\"bdb76b\",darkmagenta:\"8b008b\",darkolivegreen:\"556b2f\",darkorange:\"ff8c00\",darkorchid:\"9932cc\",darkred:\"8b0000\",darksalmon:\"e9967a\",darkseagreen:\"8fbc8f\",darkslateblue:\"483d8b\",darkslategray:\"2f4f4f\",darkslategrey:\"2f4f4f\",darkturquoise:\"00ced1\",darkviolet:\"9400d3\",deeppink:\"ff1493\",deepskyblue:\"00bfff\",dimgray:\"696969\",dimgrey:\"696969\",dodgerblue:\"1e90ff\",firebrick:\"b22222\",floralwhite:\"fffaf0\",forestgreen:\"228b22\",fuchsia:\"f0f\",gainsboro:\"dcdcdc\",ghostwhite:\"f8f8ff\",gold:\"ffd700\",goldenrod:\"daa520\",gray:\"808080\",green:\"008000\",greenyellow:\"adff2f\",grey:\"808080\",honeydew:\"f0fff0\",hotpink:\"ff69b4\",indianred:\"cd5c5c\",indigo:\"4b0082\",ivory:\"fffff0\",khaki:\"f0e68c\",lavender:\"e6e6fa\",lavenderblush:\"fff0f5\",lawngreen:\"7cfc00\",lemonchiffon:\"fffacd\",lightblue:\"add8e6\",lightcoral:\"f08080\",lightcyan:\"e0ffff\",lightgoldenrodyellow:\"fafad2\",lightgray:\"d3d3d3\",lightgreen:\"90ee90\",lightgrey:\"d3d3d3\",lightpink:\"ffb6c1\",lightsalmon:\"ffa07a\",lightseagreen:\"20b2aa\",lightskyblue:\"87cefa\",lightslategray:\"789\",lightslategrey:\"789\",lightsteelblue:\"b0c4de\",lightyellow:\"ffffe0\",lime:\"0f0\",limegreen:\"32cd32\",linen:\"faf0e6\",magenta:\"f0f\",maroon:\"800000\",mediumaquamarine:\"66cdaa\",mediumblue:\"0000cd\",mediumorchid:\"ba55d3\",mediumpurple:\"9370db\",mediumseagreen:\"3cb371\",mediumslateblue:\"7b68ee\",mediumspringgreen:\"00fa9a\",mediumturquoise:\"48d1cc\",mediumvioletred:\"c71585\",midnightblue:\"191970\",mintcream:\"f5fffa\",mistyrose:\"ffe4e1\",moccasin:\"ffe4b5\",navajowhite:\"ffdead\",navy:\"000080\",oldlace:\"fdf5e6\",olive:\"808000\",olivedrab:\"6b8e23\",orange:\"ffa500\",orangered:\"ff4500\",orchid:\"da70d6\",palegoldenrod:\"eee8aa\",palegreen:\"98fb98\",paleturquoise:\"afeeee\",palevioletred:\"db7093\",papayawhip:\"ffefd5\",peachpuff:\"ffdab9\",peru:\"cd853f\",pink:\"ffc0cb\",plum:\"dda0dd\",powderblue:\"b0e0e6\",purple:\"800080\",rebeccapurple:\"663399\",red:\"f00\",rosybrown:\"bc8f8f\",royalblue:\"4169e1\",saddlebrown:\"8b4513\",salmon:\"fa8072\",sandybrown:\"f4a460\",seagreen:\"2e8b57\",seashell:\"fff5ee\",sienna:\"a0522d\",silver:\"c0c0c0\",skyblue:\"87ceeb\",slateblue:\"6a5acd\",slategray:\"708090\",slategrey:\"708090\",snow:\"fffafa\",springgreen:\"00ff7f\",steelblue:\"4682b4\",tan:\"d2b48c\",teal:\"008080\",thistle:\"d8bfd8\",tomato:\"ff6347\",turquoise:\"40e0d0\",violet:\"ee82ee\",wheat:\"f5deb3\",white:\"fff\",whitesmoke:\"f5f5f5\",yellow:\"ff0\",yellowgreen:\"9acd32\"},hexNames=tinycolor.hexNames=flip(names),matchers=function(){var CSS_INTEGER=\"[-\\\\+]?\\\\d+%?\",CSS_NUMBER=\"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\",CSS_UNIT=\"(?:\"+CSS_NUMBER+\")|(?:\"+CSS_INTEGER+\")\",PERMISSIVE_MATCH3=\"[\\\\s|\\\\(]+(\"+CSS_UNIT+\")[,|\\\\s]+(\"+CSS_UNIT+\")[,|\\\\s]+(\"+CSS_UNIT+\")\\\\s*\\\\)?\",PERMISSIVE_MATCH4=\"[\\\\s|\\\\(]+(\"+CSS_UNIT+\")[,|\\\\s]+(\"+CSS_UNIT+\")[,|\\\\s]+(\"+CSS_UNIT+\")[,|\\\\s]+(\"+CSS_UNIT+\")\\\\s*\\\\)?\";return{rgb:new RegExp(\"rgb\"+PERMISSIVE_MATCH3),rgba:new RegExp(\"rgba\"+PERMISSIVE_MATCH4),hsl:new RegExp(\"hsl\"+PERMISSIVE_MATCH3),hsla:new RegExp(\"hsla\"+PERMISSIVE_MATCH4),hsv:new RegExp(\"hsv\"+PERMISSIVE_MATCH3),hsva:new RegExp(\"hsva\"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();\"undefined\"!=typeof module&&module.exports?module.exports=tinycolor:\"function\"==typeof define&&define.amd?define(function(){return tinycolor}):window.tinycolor=tinycolor}();\n},{}],17:[function(require,module,exports){\n//     Underscore.js 1.6.0\n//     http://underscorejs.org\n//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind,j=function(n){return n instanceof j?n:this instanceof j?void(this._wrapped=n):new j(n)};\"undefined\"!=typeof exports?(\"undefined\"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):n._=j,j.VERSION=\"1.6.0\";var A=j.each=j.forEach=function(n,t,e){if(null==n)return n;if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length){for(var u=0,i=n.length;i>u;u++)if(t.call(e,n[u],u,n)===r)return}else for(var a=j.keys(n),u=0,i=a.length;i>u;u++)if(t.call(e,n[a[u]],a[u],n)===r)return;return n};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var O=\"Reduce of empty array with no initial value\";j.reduce=j.foldl=j.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(O);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(O);return r},j.find=j.detect=function(n,t,r){var e;return k(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:d&&n.every===d?n.every(t,e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var k=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?n.indexOf(t)!=-1:k(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,t){return j.map(n,j.property(t))},j.where=function(n,t){return j.filter(n,j.matches(t))},j.findWhere=function(n,t){return j.find(n,j.matches(t))},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);var e=-1/0,u=-1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;o>u&&(e=n,u=o)}),e},j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);var e=1/0,u=1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;u>o&&(e=n,u=o)}),e},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return null==t||r?(n.length!==+n.length&&(n=j.values(n)),n[j.random(n.length-1)]):j.shuffle(n).slice(0,Math.max(0,t))};var E=function(n){return null==n?j.identity:j.isFunction(n)?n:j.property(n)};j.sortBy=function(n,t,r){return t=E(t),j.pluck(j.map(n,function(n,e,u){return{value:n,index:e,criteria:t.call(r,n,e,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),\"value\")};var F=function(n){return function(t,r,e){var u={};return r=E(r),A(t,function(i,a){var o=r.call(e,i,a,t);n(u,o,i)}),u}};j.groupBy=F(function(n,t,r){j.has(n,t)?n[t].push(r):n[t]=[r]}),j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=E(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:0>t?[]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),r)};j.flatten=function(n,t){return M(n,t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.partition=function(n,t){var r=[],e=[];return A(n,function(n){(t(n)?r:e).push(n)}),[r,e]},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.contains(t,n)})})},j.difference=function(n){var t=c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,\"length\").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,\"\"+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if(\"number\"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var R=function(){};j.bind=function(n,t){var r,e;if(_&&n.bind===_)return _.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var u=new R;R.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){for(var r=0,e=t.slice(),u=0,i=e.length;i>u;u++)e[u]===j&&(e[u]=arguments[r++]);for(;r<arguments.length;)e.push(arguments[r++]);return n.apply(this,e)}},j.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error(\"bindAll must be passed function names\");return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:j.now(),a=null,i=n.apply(e,u),e=u=null};return function(){var l=j.now();o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u),e=u=null):a||r.trailing===!1||(a=setTimeout(c,f)),i}},j.debounce=function(n,t,r){var e,u,i,a,o,c=function(){var l=j.now()-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u),i=u=null))};return function(){i=this,u=arguments,a=j.now();var l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u),i=u=null),o}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return j.partial(t,n)},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=function(n){if(!j.isObject(n))return[];if(w)return w(n);var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case\"[object String]\":return n==String(t);case\"[object Number]\":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case\"[object Date]\":case\"[object Boolean]\":return+n==+t;case\"[object RegExp]\":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if(\"object\"!=typeof n||\"object\"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(o)&&o instanceof o)&&\"constructor\"in n&&\"constructor\"in t)return!1;r.push(n),e.push(t);var c=0,f=!0;if(\"[object Array]\"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return\"[object Array]\"==l.call(n)},j.isObject=function(n){return n===Object(n)},A([\"Arguments\",\"Function\",\"String\",\"Number\",\"Date\",\"RegExp\"],function(n){j[\"is\"+n]=function(t){return l.call(t)==\"[object \"+n+\"]\"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,\"callee\"))}),\"function\"!=typeof/./&&(j.isFunction=function(n){return\"function\"==typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||\"[object Boolean]\"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return n===void 0},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.constant=function(n){return function(){return n}},j.property=function(n){return function(t){return t[n]}},j.matches=function(n){return function(t){if(t===n)return!0;for(var r in n)if(n[r]!==t[r])return!1;return!0}},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},j.now=Date.now||function(){return(new Date).getTime()};var T={escape:{\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#x27;\"}};T.unescape=j.invert(T.escape);var I={escape:new RegExp(\"[\"+j.keys(T.escape).join(\"\")+\"]\",\"g\"),unescape:new RegExp(\"(\"+j.keys(T.unescape).join(\"|\")+\")\",\"g\")};j.each([\"escape\",\"unescape\"],function(n){j[n]=function(t){return null==t?\"\":(\"\"+t).replace(I[n],function(t){return T[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+\"\";return n?n+t:t},j.templateSettings={evaluate:/<%([\\s\\S]+?)%>/g,interpolate:/<%=([\\s\\S]+?)%>/g,escape:/<%-([\\s\\S]+?)%>/g};var q=/(.)^/,B={\"'\":\"'\",\"\\\\\":\"\\\\\",\"\\r\":\"r\",\"\\n\":\"n\",\"\t\":\"t\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},D=/\\\\|'|\\r|\\n|\\t|\\u2028|\\u2029/g;j.template=function(n,t,r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join(\"|\")+\"|$\",\"g\"),i=0,a=\"__p+='\";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return\"\\\\\"+B[n]}),r&&(a+=\"'+\\n((__t=(\"+r+\"))==null?'':_.escape(__t))+\\n'\"),e&&(a+=\"'+\\n((__t=(\"+e+\"))==null?'':__t)+\\n'\"),u&&(a+=\"';\\n\"+u+\"\\n__p+='\"),i=o+t.length,t}),a+=\"';\\n\",r.variable||(a=\"with(obj||{}){\\n\"+a+\"}\\n\"),a=\"var __t,__p='',__j=Array.prototype.join,\"+\"print=function(){__p+=__j.call(arguments,'');};\\n\"+a+\"return __p;\\n\";try{e=new Function(r.variable||\"obj\",\"_\",a)}catch(o){throw o.source=a,o}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source=\"function(\"+(r.variable||\"obj\")+\"){\\n\"+a+\"}\",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A([\"pop\",\"push\",\"reverse\",\"shift\",\"sort\",\"splice\",\"unshift\"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),\"shift\"!=n&&\"splice\"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A([\"concat\",\"join\",\"slice\"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),\"function\"==typeof define&&define.amd&&define(\"underscore\",[],function(){return j})}).call(this);\n//# sourceMappingURL=underscore-min.map\n},{}],18:[function(require,module,exports){\n/* Zepto v1.1.3 - zepto event ajax form ie - zeptojs.com/license */\n\n\nvar Zepto = (function() {\n  var undefined, key, $, classList, emptyArray = [], slice = emptyArray.slice, filter = emptyArray.filter,\n    document = window.document,\n    elementDisplay = {}, classCache = {},\n    cssNumber = { 'column-count': 1, 'columns': 1, 'font-weight': 1, 'line-height': 1,'opacity': 1, 'z-index': 1, 'zoom': 1 },\n    fragmentRE = /^\\s*<(\\w+|!)[^>]*>/,\n    singleTagRE = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\n    tagExpanderRE = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,\n    rootNodeRE = /^(?:body|html)$/i,\n    capitalRE = /([A-Z])/g,\n\n    // special attributes that should be get/set via method calls\n    methodAttributes = ['val', 'css', 'html', 'text', 'data', 'width', 'height', 'offset'],\n\n    adjacencyOperators = [ 'after', 'prepend', 'before', 'append' ],\n    table = document.createElement('table'),\n    tableRow = document.createElement('tr'),\n    containers = {\n      'tr': document.createElement('tbody'),\n      'tbody': table, 'thead': table, 'tfoot': table,\n      'td': tableRow, 'th': tableRow,\n      '*': document.createElement('div')\n    },\n    readyRE = /complete|loaded|interactive/,\n    simpleSelectorRE = /^[\\w-]*$/,\n    class2type = {},\n    toString = class2type.toString,\n    zepto = {},\n    camelize, uniq,\n    tempParent = document.createElement('div'),\n    propMap = {\n      'tabindex': 'tabIndex',\n      'readonly': 'readOnly',\n      'for': 'htmlFor',\n      'class': 'className',\n      'maxlength': 'maxLength',\n      'cellspacing': 'cellSpacing',\n      'cellpadding': 'cellPadding',\n      'rowspan': 'rowSpan',\n      'colspan': 'colSpan',\n      'usemap': 'useMap',\n      'frameborder': 'frameBorder',\n      'contenteditable': 'contentEditable'\n    },\n    isArray = Array.isArray ||\n      function(object){ return object instanceof Array }\n\n  zepto.matches = function(element, selector) {\n    if (!selector || !element || element.nodeType !== 1) return false\n    var matchesSelector = element.webkitMatchesSelector || element.mozMatchesSelector ||\n                          element.oMatchesSelector || element.matchesSelector\n    if (matchesSelector) return matchesSelector.call(element, selector)\n    // fall back to performing a selector:\n    var match, parent = element.parentNode, temp = !parent\n    if (temp) (parent = tempParent).appendChild(element)\n    match = ~zepto.qsa(parent, selector).indexOf(element)\n    temp && tempParent.removeChild(element)\n    return match\n  }\n\n  function type(obj) {\n    return obj == null ? String(obj) :\n      class2type[toString.call(obj)] || \"object\"\n  }\n\n  function isFunction(value) { return type(value) == \"function\" }\n  function isWindow(obj)     { return obj != null && obj == obj.window }\n  function isDocument(obj)   { return obj != null && obj.nodeType == obj.DOCUMENT_NODE }\n  function isObject(obj)     { return type(obj) == \"object\" }\n  function isPlainObject(obj) {\n    return isObject(obj) && !isWindow(obj) && Object.getPrototypeOf(obj) == Object.prototype\n  }\n  function likeArray(obj) { return typeof obj.length == 'number' }\n\n  function compact(array) { return filter.call(array, function(item){ return item != null }) }\n  function flatten(array) { return array.length > 0 ? $.fn.concat.apply([], array) : array }\n  camelize = function(str){ return str.replace(/-+(.)?/g, function(match, chr){ return chr ? chr.toUpperCase() : '' }) }\n  function dasherize(str) {\n    return str.replace(/::/g, '/')\n           .replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2')\n           .replace(/([a-z\\d])([A-Z])/g, '$1_$2')\n           .replace(/_/g, '-')\n           .toLowerCase()\n  }\n  uniq = function(array){ return filter.call(array, function(item, idx){ return array.indexOf(item) == idx }) }\n\n  function classRE(name) {\n    return name in classCache ?\n      classCache[name] : (classCache[name] = new RegExp('(^|\\\\s)' + name + '(\\\\s|$)'))\n  }\n\n  function maybeAddPx(name, value) {\n    return (typeof value == \"number\" && !cssNumber[dasherize(name)]) ? value + \"px\" : value\n  }\n\n  function defaultDisplay(nodeName) {\n    var element, display\n    if (!elementDisplay[nodeName]) {\n      element = document.createElement(nodeName)\n      document.body.appendChild(element)\n      display = getComputedStyle(element, '').getPropertyValue(\"display\")\n      element.parentNode.removeChild(element)\n      display == \"none\" && (display = \"block\")\n      elementDisplay[nodeName] = display\n    }\n    return elementDisplay[nodeName]\n  }\n\n  function children(element) {\n    return 'children' in element ?\n      slice.call(element.children) :\n      $.map(element.childNodes, function(node){ if (node.nodeType == 1) return node })\n  }\n\n  // `$.zepto.fragment` takes a html string and an optional tag name\n  // to generate DOM nodes nodes from the given html string.\n  // The generated DOM nodes are returned as an array.\n  // This function can be overriden in plugins for example to make\n  // it compatible with browsers that don't support the DOM fully.\n  zepto.fragment = function(html, name, properties) {\n    var dom, nodes, container\n\n    // A special case optimization for a single tag\n    if (singleTagRE.test(html)) dom = $(document.createElement(RegExp.$1))\n\n    if (!dom) {\n      if (html.replace) html = html.replace(tagExpanderRE, \"<$1></$2>\")\n      if (name === undefined) name = fragmentRE.test(html) && RegExp.$1\n      if (!(name in containers)) name = '*'\n\n      container = containers[name]\n      container.innerHTML = '' + html\n      dom = $.each(slice.call(container.childNodes), function(){\n        container.removeChild(this)\n      })\n    }\n\n    if (isPlainObject(properties)) {\n      nodes = $(dom)\n      $.each(properties, function(key, value) {\n        if (methodAttributes.indexOf(key) > -1) nodes[key](value)\n        else nodes.attr(key, value)\n      })\n    }\n\n    return dom\n  }\n\n  // `$.zepto.Z` swaps out the prototype of the given `dom` array\n  // of nodes with `$.fn` and thus supplying all the Zepto functions\n  // to the array. Note that `__proto__` is not supported on Internet\n  // Explorer. This method can be overriden in plugins.\n  zepto.Z = function(dom, selector) {\n    dom = dom || []\n    dom.__proto__ = $.fn\n    dom.selector = selector || ''\n    return dom\n  }\n\n  // `$.zepto.isZ` should return `true` if the given object is a Zepto\n  // collection. This method can be overriden in plugins.\n  zepto.isZ = function(object) {\n    return object instanceof zepto.Z\n  }\n\n  // `$.zepto.init` is Zepto's counterpart to jQuery's `$.fn.init` and\n  // takes a CSS selector and an optional context (and handles various\n  // special cases).\n  // This method can be overriden in plugins.\n  zepto.init = function(selector, context) {\n    var dom\n    // If nothing given, return an empty Zepto collection\n    if (!selector) return zepto.Z()\n    // Optimize for string selectors\n    else if (typeof selector == 'string') {\n      selector = selector.trim()\n      // If it's a html fragment, create nodes from it\n      // Note: In both Chrome 21 and Firefox 15, DOM error 12\n      // is thrown if the fragment doesn't begin with <\n      if (selector[0] == '<' && fragmentRE.test(selector))\n        dom = zepto.fragment(selector, RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // If it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // If a function is given, call it when the DOM is ready\n    else if (isFunction(selector)) return $(document).ready(selector)\n    // If a Zepto collection is given, just return it\n    else if (zepto.isZ(selector)) return selector\n    else {\n      // normalize array if an array of nodes is given\n      if (isArray(selector)) dom = compact(selector)\n      // Wrap DOM nodes.\n      else if (isObject(selector))\n        dom = [selector], selector = null\n      // If it's a html fragment, create nodes from it\n      else if (fragmentRE.test(selector))\n        dom = zepto.fragment(selector.trim(), RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // And last but no least, if it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // create a new Zepto collection from the nodes found\n    return zepto.Z(dom, selector)\n  }\n\n  // `$` will be the base `Zepto` object. When calling this\n  // function just call `$.zepto.init, which makes the implementation\n  // details of selecting nodes and creating Zepto collections\n  // patchable in plugins.\n  $ = function(selector, context){\n    return zepto.init(selector, context)\n  }\n\n  function extend(target, source, deep) {\n    for (key in source)\n      if (deep && (isPlainObject(source[key]) || isArray(source[key]))) {\n        if (isPlainObject(source[key]) && !isPlainObject(target[key]))\n          target[key] = {}\n        if (isArray(source[key]) && !isArray(target[key]))\n          target[key] = []\n        extend(target[key], source[key], deep)\n      }\n      else if (source[key] !== undefined) target[key] = source[key]\n  }\n\n  // Copy all but undefined properties from one or more\n  // objects to the `target` object.\n  $.extend = function(target){\n    var deep, args = slice.call(arguments, 1)\n    if (typeof target == 'boolean') {\n      deep = target\n      target = args.shift()\n    }\n    args.forEach(function(arg){ extend(target, arg, deep) })\n    return target\n  }\n\n  // `$.zepto.qsa` is Zepto's CSS selector implementation which\n  // uses `document.querySelectorAll` and optimizes for some special cases, like `#id`.\n  // This method can be overriden in plugins.\n  zepto.qsa = function(element, selector){\n    var found,\n        maybeID = selector[0] == '#',\n        maybeClass = !maybeID && selector[0] == '.',\n        nameOnly = maybeID || maybeClass ? selector.slice(1) : selector, // Ensure that a 1 char tag name still gets checked\n        isSimple = simpleSelectorRE.test(nameOnly)\n    return (isDocument(element) && isSimple && maybeID) ?\n      ( (found = element.getElementById(nameOnly)) ? [found] : [] ) :\n      (element.nodeType !== 1 && element.nodeType !== 9) ? [] :\n      slice.call(\n        isSimple && !maybeID ?\n          maybeClass ? element.getElementsByClassName(nameOnly) : // If it's simple, it could be a class\n          element.getElementsByTagName(selector) : // Or a tag\n          element.querySelectorAll(selector) // Or it's not simple, and we need to query all\n      )\n  }\n\n  function filtered(nodes, selector) {\n    return selector == null ? $(nodes) : $(nodes).filter(selector)\n  }\n\n  $.contains = function(parent, node) {\n    return parent !== node && parent.contains(node)\n  }\n\n  function funcArg(context, arg, idx, payload) {\n    return isFunction(arg) ? arg.call(context, idx, payload) : arg\n  }\n\n  function setAttribute(node, name, value) {\n    value == null ? node.removeAttribute(name) : node.setAttribute(name, value)\n  }\n\n  // access className property while respecting SVGAnimatedString\n  function className(node, value){\n    var klass = node.className,\n        svg   = klass && klass.baseVal !== undefined\n\n    if (value === undefined) return svg ? klass.baseVal : klass\n    svg ? (klass.baseVal = value) : (node.className = value)\n  }\n\n  // \"true\"  => true\n  // \"false\" => false\n  // \"null\"  => null\n  // \"42\"    => 42\n  // \"42.5\"  => 42.5\n  // \"08\"    => \"08\"\n  // JSON    => parse if valid\n  // String  => self\n  function deserializeValue(value) {\n    var num\n    try {\n      return value ?\n        value == \"true\" ||\n        ( value == \"false\" ? false :\n          value == \"null\" ? null :\n          !/^0/.test(value) && !isNaN(num = Number(value)) ? num :\n          /^[\\[\\{]/.test(value) ? $.parseJSON(value) :\n          value )\n        : value\n    } catch(e) {\n      return value\n    }\n  }\n\n  $.type = type\n  $.isFunction = isFunction\n  $.isWindow = isWindow\n  $.isArray = isArray\n  $.isPlainObject = isPlainObject\n\n  $.isEmptyObject = function(obj) {\n    var name\n    for (name in obj) return false\n    return true\n  }\n\n  $.inArray = function(elem, array, i){\n    return emptyArray.indexOf.call(array, elem, i)\n  }\n\n  $.camelCase = camelize\n  $.trim = function(str) {\n    return str == null ? \"\" : String.prototype.trim.call(str)\n  }\n\n  // plugin compatibility\n  $.uuid = 0\n  $.support = { }\n  $.expr = { }\n\n  $.map = function(elements, callback){\n    var value, values = [], i, key\n    if (likeArray(elements))\n      for (i = 0; i < elements.length; i++) {\n        value = callback(elements[i], i)\n        if (value != null) values.push(value)\n      }\n    else\n      for (key in elements) {\n        value = callback(elements[key], key)\n        if (value != null) values.push(value)\n      }\n    return flatten(values)\n  }\n\n  $.each = function(elements, callback){\n    var i, key\n    if (likeArray(elements)) {\n      for (i = 0; i < elements.length; i++)\n        if (callback.call(elements[i], i, elements[i]) === false) return elements\n    } else {\n      for (key in elements)\n        if (callback.call(elements[key], key, elements[key]) === false) return elements\n    }\n\n    return elements\n  }\n\n  $.grep = function(elements, callback){\n    return filter.call(elements, callback)\n  }\n\n  if (window.JSON) $.parseJSON = JSON.parse\n\n  // Populate the class2type map\n  $.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function(i, name) {\n    class2type[ \"[object \" + name + \"]\" ] = name.toLowerCase()\n  })\n\n  // Define methods that will be available on all\n  // Zepto collections\n  $.fn = {\n    // Because a collection acts like an array\n    // copy over these useful array functions.\n    forEach: emptyArray.forEach,\n    reduce: emptyArray.reduce,\n    push: emptyArray.push,\n    sort: emptyArray.sort,\n    indexOf: emptyArray.indexOf,\n    concat: emptyArray.concat,\n\n    // `map` and `slice` in the jQuery API work differently\n    // from their array counterparts\n    map: function(fn){\n      return $($.map(this, function(el, i){ return fn.call(el, i, el) }))\n    },\n    slice: function(){\n      return $(slice.apply(this, arguments))\n    },\n\n    ready: function(callback){\n      // need to check if document.body exists for IE as that browser reports\n      // document ready when it hasn't yet created the body element\n      if (readyRE.test(document.readyState) && document.body) callback($)\n      else document.addEventListener('DOMContentLoaded', function(){ callback($) }, false)\n      return this\n    },\n    get: function(idx){\n      return idx === undefined ? slice.call(this) : this[idx >= 0 ? idx : idx + this.length]\n    },\n    toArray: function(){ return this.get() },\n    size: function(){\n      return this.length\n    },\n    remove: function(){\n      return this.each(function(){\n        if (this.parentNode != null)\n          this.parentNode.removeChild(this)\n      })\n    },\n    each: function(callback){\n      emptyArray.every.call(this, function(el, idx){\n        return callback.call(el, idx, el) !== false\n      })\n      return this\n    },\n    filter: function(selector){\n      if (isFunction(selector)) return this.not(this.not(selector))\n      return $(filter.call(this, function(element){\n        return zepto.matches(element, selector)\n      }))\n    },\n    add: function(selector,context){\n      return $(uniq(this.concat($(selector,context))))\n    },\n    is: function(selector){\n      return this.length > 0 && zepto.matches(this[0], selector)\n    },\n    not: function(selector){\n      var nodes=[]\n      if (isFunction(selector) && selector.call !== undefined)\n        this.each(function(idx){\n          if (!selector.call(this,idx)) nodes.push(this)\n        })\n      else {\n        var excludes = typeof selector == 'string' ? this.filter(selector) :\n          (likeArray(selector) && isFunction(selector.item)) ? slice.call(selector) : $(selector)\n        this.forEach(function(el){\n          if (excludes.indexOf(el) < 0) nodes.push(el)\n        })\n      }\n      return $(nodes)\n    },\n    has: function(selector){\n      return this.filter(function(){\n        return isObject(selector) ?\n          $.contains(this, selector) :\n          $(this).find(selector).size()\n      })\n    },\n    eq: function(idx){\n      return idx === -1 ? this.slice(idx) : this.slice(idx, + idx + 1)\n    },\n    first: function(){\n      var el = this[0]\n      return el && !isObject(el) ? el : $(el)\n    },\n    last: function(){\n      var el = this[this.length - 1]\n      return el && !isObject(el) ? el : $(el)\n    },\n    find: function(selector){\n      var result, $this = this\n      if (typeof selector == 'object')\n        result = $(selector).filter(function(){\n          var node = this\n          return emptyArray.some.call($this, function(parent){\n            return $.contains(parent, node)\n          })\n        })\n      else if (this.length == 1) result = $(zepto.qsa(this[0], selector))\n      else result = this.map(function(){ return zepto.qsa(this, selector) })\n      return result\n    },\n    closest: function(selector, context){\n      var node = this[0], collection = false\n      if (typeof selector == 'object') collection = $(selector)\n      while (node && !(collection ? collection.indexOf(node) >= 0 : zepto.matches(node, selector)))\n        node = node !== context && !isDocument(node) && node.parentNode\n      return $(node)\n    },\n    parents: function(selector){\n      var ancestors = [], nodes = this\n      while (nodes.length > 0)\n        nodes = $.map(nodes, function(node){\n          if ((node = node.parentNode) && !isDocument(node) && ancestors.indexOf(node) < 0) {\n            ancestors.push(node)\n            return node\n          }\n        })\n      return filtered(ancestors, selector)\n    },\n    parent: function(selector){\n      return filtered(uniq(this.pluck('parentNode')), selector)\n    },\n    children: function(selector){\n      return filtered(this.map(function(){ return children(this) }), selector)\n    },\n    contents: function() {\n      return this.map(function() { return slice.call(this.childNodes) })\n    },\n    siblings: function(selector){\n      return filtered(this.map(function(i, el){\n        return filter.call(children(el.parentNode), function(child){ return child!==el })\n      }), selector)\n    },\n    empty: function(){\n      return this.each(function(){ this.innerHTML = '' })\n    },\n    // `pluck` is borrowed from Prototype.js\n    pluck: function(property){\n      return $.map(this, function(el){ return el[property] })\n    },\n    show: function(){\n      return this.each(function(){\n        this.style.display == \"none\" && (this.style.display = '')\n        if (getComputedStyle(this, '').getPropertyValue(\"display\") == \"none\")\n          this.style.display = defaultDisplay(this.nodeName)\n      })\n    },\n    replaceWith: function(newContent){\n      return this.before(newContent).remove()\n    },\n    wrap: function(structure){\n      var func = isFunction(structure)\n      if (this[0] && !func)\n        var dom   = $(structure).get(0),\n            clone = dom.parentNode || this.length > 1\n\n      return this.each(function(index){\n        $(this).wrapAll(\n          func ? structure.call(this, index) :\n            clone ? dom.cloneNode(true) : dom\n        )\n      })\n    },\n    wrapAll: function(structure){\n      if (this[0]) {\n        $(this[0]).before(structure = $(structure))\n        var children\n        // drill down to the inmost element\n        while ((children = structure.children()).length) structure = children.first()\n        $(structure).append(this)\n      }\n      return this\n    },\n    wrapInner: function(structure){\n      var func = isFunction(structure)\n      return this.each(function(index){\n        var self = $(this), contents = self.contents(),\n            dom  = func ? structure.call(this, index) : structure\n        contents.length ? contents.wrapAll(dom) : self.append(dom)\n      })\n    },\n    unwrap: function(){\n      this.parent().each(function(){\n        $(this).replaceWith($(this).children())\n      })\n      return this\n    },\n    clone: function(){\n      return this.map(function(){ return this.cloneNode(true) })\n    },\n    hide: function(){\n      return this.css(\"display\", \"none\")\n    },\n    toggle: function(setting){\n      return this.each(function(){\n        var el = $(this)\n        ;(setting === undefined ? el.css(\"display\") == \"none\" : setting) ? el.show() : el.hide()\n      })\n    },\n    prev: function(selector){ return $(this.pluck('previousElementSibling')).filter(selector || '*') },\n    next: function(selector){ return $(this.pluck('nextElementSibling')).filter(selector || '*') },\n    html: function(html){\n      return arguments.length === 0 ?\n        (this.length > 0 ? this[0].innerHTML : null) :\n        this.each(function(idx){\n          var originHtml = this.innerHTML\n          $(this).empty().append( funcArg(this, html, idx, originHtml) )\n        })\n    },\n    text: function(text){\n      return arguments.length === 0 ?\n        (this.length > 0 ? this[0].textContent : null) :\n        this.each(function(){ this.textContent = (text === undefined) ? '' : ''+text })\n    },\n    attr: function(name, value){\n      var result\n      return (typeof name == 'string' && value === undefined) ?\n        (this.length == 0 || this[0].nodeType !== 1 ? undefined :\n          (name == 'value' && this[0].nodeName == 'INPUT') ? this.val() :\n          (!(result = this[0].getAttribute(name)) && name in this[0]) ? this[0][name] : result\n        ) :\n        this.each(function(idx){\n          if (this.nodeType !== 1) return\n          if (isObject(name)) for (key in name) setAttribute(this, key, name[key])\n          else setAttribute(this, name, funcArg(this, value, idx, this.getAttribute(name)))\n        })\n    },\n    removeAttr: function(name){\n      return this.each(function(){ this.nodeType === 1 && setAttribute(this, name) })\n    },\n    prop: function(name, value){\n      name = propMap[name] || name\n      return (value === undefined) ?\n        (this[0] && this[0][name]) :\n        this.each(function(idx){\n          this[name] = funcArg(this, value, idx, this[name])\n        })\n    },\n    data: function(name, value){\n      var data = this.attr('data-' + name.replace(capitalRE, '-$1').toLowerCase(), value)\n      return data !== null ? deserializeValue(data) : undefined\n    },\n    val: function(value){\n      return arguments.length === 0 ?\n        (this[0] && (this[0].multiple ?\n           $(this[0]).find('option').filter(function(){ return this.selected }).pluck('value') :\n           this[0].value)\n        ) :\n        this.each(function(idx){\n          this.value = funcArg(this, value, idx, this.value)\n        })\n    },\n    offset: function(coordinates){\n      if (coordinates) return this.each(function(index){\n        var $this = $(this),\n            coords = funcArg(this, coordinates, index, $this.offset()),\n            parentOffset = $this.offsetParent().offset(),\n            props = {\n              top:  coords.top  - parentOffset.top,\n              left: coords.left - parentOffset.left\n            }\n\n        if ($this.css('position') == 'static') props['position'] = 'relative'\n        $this.css(props)\n      })\n      if (this.length==0) return null\n      var obj = this[0].getBoundingClientRect()\n      return {\n        left: obj.left + window.pageXOffset,\n        top: obj.top + window.pageYOffset,\n        width: Math.round(obj.width),\n        height: Math.round(obj.height)\n      }\n    },\n    css: function(property, value){\n      if (arguments.length < 2) {\n        var element = this[0], computedStyle = getComputedStyle(element, '')\n        if(!element) return\n        if (typeof property == 'string')\n          return element.style[camelize(property)] || computedStyle.getPropertyValue(property)\n        else if (isArray(property)) {\n          var props = {}\n          $.each(isArray(property) ? property: [property], function(_, prop){\n            props[prop] = (element.style[camelize(prop)] || computedStyle.getPropertyValue(prop))\n          })\n          return props\n        }\n      }\n\n      var css = ''\n      if (type(property) == 'string') {\n        if (!value && value !== 0)\n          this.each(function(){ this.style.removeProperty(dasherize(property)) })\n        else\n          css = dasherize(property) + \":\" + maybeAddPx(property, value)\n      } else {\n        for (key in property)\n          if (!property[key] && property[key] !== 0)\n            this.each(function(){ this.style.removeProperty(dasherize(key)) })\n          else\n            css += dasherize(key) + ':' + maybeAddPx(key, property[key]) + ';'\n      }\n\n      return this.each(function(){ this.style.cssText += ';' + css })\n    },\n    index: function(element){\n      return element ? this.indexOf($(element)[0]) : this.parent().children().indexOf(this[0])\n    },\n    hasClass: function(name){\n      if (!name) return false\n      return emptyArray.some.call(this, function(el){\n        return this.test(className(el))\n      }, classRE(name))\n    },\n    addClass: function(name){\n      if (!name) return this\n      return this.each(function(idx){\n        classList = []\n        var cls = className(this), newName = funcArg(this, name, idx, cls)\n        newName.split(/\\s+/g).forEach(function(klass){\n          if (!$(this).hasClass(klass)) classList.push(klass)\n        }, this)\n        classList.length && className(this, cls + (cls ? \" \" : \"\") + classList.join(\" \"))\n      })\n    },\n    removeClass: function(name){\n      return this.each(function(idx){\n        if (name === undefined) return className(this, '')\n        classList = className(this)\n        funcArg(this, name, idx, classList).split(/\\s+/g).forEach(function(klass){\n          classList = classList.replace(classRE(klass), \" \")\n        })\n        className(this, classList.trim())\n      })\n    },\n    toggleClass: function(name, when){\n      if (!name) return this\n      return this.each(function(idx){\n        var $this = $(this), names = funcArg(this, name, idx, className(this))\n        names.split(/\\s+/g).forEach(function(klass){\n          (when === undefined ? !$this.hasClass(klass) : when) ?\n            $this.addClass(klass) : $this.removeClass(klass)\n        })\n      })\n    },\n    scrollTop: function(value){\n      if (!this.length) return\n      var hasScrollTop = 'scrollTop' in this[0]\n      if (value === undefined) return hasScrollTop ? this[0].scrollTop : this[0].pageYOffset\n      return this.each(hasScrollTop ?\n        function(){ this.scrollTop = value } :\n        function(){ this.scrollTo(this.scrollX, value) })\n    },\n    scrollLeft: function(value){\n      if (!this.length) return\n      var hasScrollLeft = 'scrollLeft' in this[0]\n      if (value === undefined) return hasScrollLeft ? this[0].scrollLeft : this[0].pageXOffset\n      return this.each(hasScrollLeft ?\n        function(){ this.scrollLeft = value } :\n        function(){ this.scrollTo(value, this.scrollY) })\n    },\n    position: function() {\n      if (!this.length) return\n\n      var elem = this[0],\n        // Get *real* offsetParent\n        offsetParent = this.offsetParent(),\n        // Get correct offsets\n        offset       = this.offset(),\n        parentOffset = rootNodeRE.test(offsetParent[0].nodeName) ? { top: 0, left: 0 } : offsetParent.offset()\n\n      // Subtract element margins\n      // note: when an element has margin: auto the offsetLeft and marginLeft\n      // are the same in Safari causing offset.left to incorrectly be 0\n      offset.top  -= parseFloat( $(elem).css('margin-top') ) || 0\n      offset.left -= parseFloat( $(elem).css('margin-left') ) || 0\n\n      // Add offsetParent borders\n      parentOffset.top  += parseFloat( $(offsetParent[0]).css('border-top-width') ) || 0\n      parentOffset.left += parseFloat( $(offsetParent[0]).css('border-left-width') ) || 0\n\n      // Subtract the two offsets\n      return {\n        top:  offset.top  - parentOffset.top,\n        left: offset.left - parentOffset.left\n      }\n    },\n    offsetParent: function() {\n      return this.map(function(){\n        var parent = this.offsetParent || document.body\n        while (parent && !rootNodeRE.test(parent.nodeName) && $(parent).css(\"position\") == \"static\")\n          parent = parent.offsetParent\n        return parent\n      })\n    }\n  }\n\n  // for now\n  $.fn.detach = $.fn.remove\n\n  // Generate the `width` and `height` functions\n  ;['width', 'height'].forEach(function(dimension){\n    var dimensionProperty =\n      dimension.replace(/./, function(m){ return m[0].toUpperCase() })\n\n    $.fn[dimension] = function(value){\n      var offset, el = this[0]\n      if (value === undefined) return isWindow(el) ? el['inner' + dimensionProperty] :\n        isDocument(el) ? el.documentElement['scroll' + dimensionProperty] :\n        (offset = this.offset()) && offset[dimension]\n      else return this.each(function(idx){\n        el = $(this)\n        el.css(dimension, funcArg(this, value, idx, el[dimension]()))\n      })\n    }\n  })\n\n  function traverseNode(node, fun) {\n    fun(node)\n    for (var key in node.childNodes) traverseNode(node.childNodes[key], fun)\n  }\n\n  // Generate the `after`, `prepend`, `before`, `append`,\n  // `insertAfter`, `insertBefore`, `appendTo`, and `prependTo` methods.\n  adjacencyOperators.forEach(function(operator, operatorIndex) {\n    var inside = operatorIndex % 2 //=> prepend, append\n\n    $.fn[operator] = function(){\n      // arguments can be nodes, arrays of nodes, Zepto objects and HTML strings\n      var argType, nodes = $.map(arguments, function(arg) {\n            argType = type(arg)\n            return argType == \"object\" || argType == \"array\" || arg == null ?\n              arg : zepto.fragment(arg)\n          }),\n          parent, copyByClone = this.length > 1\n      if (nodes.length < 1) return this\n\n      return this.each(function(_, target){\n        parent = inside ? target : target.parentNode\n\n        // convert all methods to a \"before\" operation\n        target = operatorIndex == 0 ? target.nextSibling :\n                 operatorIndex == 1 ? target.firstChild :\n                 operatorIndex == 2 ? target :\n                 null\n\n        nodes.forEach(function(node){\n          if (copyByClone) node = node.cloneNode(true)\n          else if (!parent) return $(node).remove()\n\n          traverseNode(parent.insertBefore(node, target), function(el){\n            if (el.nodeName != null && el.nodeName.toUpperCase() === 'SCRIPT' &&\n               (!el.type || el.type === 'text/javascript') && !el.src)\n              window['eval'].call(window, el.innerHTML)\n          })\n        })\n      })\n    }\n\n    // after    => insertAfter\n    // prepend  => prependTo\n    // before   => insertBefore\n    // append   => appendTo\n    $.fn[inside ? operator+'To' : 'insert'+(operatorIndex ? 'Before' : 'After')] = function(html){\n      $(html)[operator](this)\n      return this\n    }\n  })\n\n  zepto.Z.prototype = $.fn\n\n  // Export internal API functions in the `$.zepto` namespace\n  zepto.uniq = uniq\n  zepto.deserializeValue = deserializeValue\n  $.zepto = zepto\n\n  return $\n})()\n\nexports.$ = exports.Zepto = Zepto;\n\n;(function($){\n  var _zid = 1, undefined,\n      slice = Array.prototype.slice,\n      isFunction = $.isFunction,\n      isString = function(obj){ return typeof obj == 'string' },\n      handlers = {},\n      specialEvents={},\n      focusinSupported = 'onfocusin' in window,\n      focus = { focus: 'focusin', blur: 'focusout' },\n      hover = { mouseenter: 'mouseover', mouseleave: 'mouseout' }\n\n  specialEvents.click = specialEvents.mousedown = specialEvents.mouseup = specialEvents.mousemove = 'MouseEvents'\n\n  function zid(element) {\n    return element._zid || (element._zid = _zid++)\n  }\n  function findHandlers(element, event, fn, selector) {\n    event = parse(event)\n    if (event.ns) var matcher = matcherFor(event.ns)\n    return (handlers[zid(element)] || []).filter(function(handler) {\n      return handler\n        && (!event.e  || handler.e == event.e)\n        && (!event.ns || matcher.test(handler.ns))\n        && (!fn       || zid(handler.fn) === zid(fn))\n        && (!selector || handler.sel == selector)\n    })\n  }\n  function parse(event) {\n    var parts = ('' + event).split('.')\n    return {e: parts[0], ns: parts.slice(1).sort().join(' ')}\n  }\n  function matcherFor(ns) {\n    return new RegExp('(?:^| )' + ns.replace(' ', ' .* ?') + '(?: |$)')\n  }\n\n  function eventCapture(handler, captureSetting) {\n    return handler.del &&\n      (!focusinSupported && (handler.e in focus)) ||\n      !!captureSetting\n  }\n\n  function realEvent(type) {\n    return hover[type] || (focusinSupported && focus[type]) || type\n  }\n\n  function add(element, events, fn, data, selector, delegator, capture){\n    var id = zid(element), set = (handlers[id] || (handlers[id] = []))\n    events.split(/\\s/).forEach(function(event){\n      if (event == 'ready') return $(document).ready(fn)\n      var handler   = parse(event)\n      handler.fn    = fn\n      handler.sel   = selector\n      // emulate mouseenter, mouseleave\n      if (handler.e in hover) fn = function(e){\n        var related = e.relatedTarget\n        if (!related || (related !== this && !$.contains(this, related)))\n          return handler.fn.apply(this, arguments)\n      }\n      handler.del   = delegator\n      var callback  = delegator || fn\n      handler.proxy = function(e){\n        e = compatible(e)\n        if (e.isImmediatePropagationStopped()) return\n        e.data = data\n        var result = callback.apply(element, e._args == undefined ? [e] : [e].concat(e._args))\n        if (result === false) e.preventDefault(), e.stopPropagation()\n        return result\n      }\n      handler.i = set.length\n      set.push(handler)\n      if ('addEventListener' in element)\n        element.addEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n    })\n  }\n  function remove(element, events, fn, selector, capture){\n    var id = zid(element)\n    ;(events || '').split(/\\s/).forEach(function(event){\n      findHandlers(element, event, fn, selector).forEach(function(handler){\n        delete handlers[id][handler.i]\n      if ('removeEventListener' in element)\n        element.removeEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n      })\n    })\n  }\n\n  $.event = { add: add, remove: remove }\n\n  $.proxy = function(fn, context) {\n    if (isFunction(fn)) {\n      var proxyFn = function(){ return fn.apply(context, arguments) }\n      proxyFn._zid = zid(fn)\n      return proxyFn\n    } else if (isString(context)) {\n      return $.proxy(fn[context], fn)\n    } else {\n      throw new TypeError(\"expected function\")\n    }\n  }\n\n  $.fn.bind = function(event, data, callback){\n    return this.on(event, data, callback)\n  }\n  $.fn.unbind = function(event, callback){\n    return this.off(event, callback)\n  }\n  $.fn.one = function(event, selector, data, callback){\n    return this.on(event, selector, data, callback, 1)\n  }\n\n  var returnTrue = function(){return true},\n      returnFalse = function(){return false},\n      ignoreProperties = /^([A-Z]|returnValue$|layer[XY]$)/,\n      eventMethods = {\n        preventDefault: 'isDefaultPrevented',\n        stopImmediatePropagation: 'isImmediatePropagationStopped',\n        stopPropagation: 'isPropagationStopped'\n      }\n\n  function compatible(event, source) {\n    if (source || !event.isDefaultPrevented) {\n      source || (source = event)\n\n      $.each(eventMethods, function(name, predicate) {\n        var sourceMethod = source[name]\n        event[name] = function(){\n          this[predicate] = returnTrue\n          return sourceMethod && sourceMethod.apply(source, arguments)\n        }\n        event[predicate] = returnFalse\n      })\n\n      if (source.defaultPrevented !== undefined ? source.defaultPrevented :\n          'returnValue' in source ? source.returnValue === false :\n          source.getPreventDefault && source.getPreventDefault())\n        event.isDefaultPrevented = returnTrue\n    }\n    return event\n  }\n\n  function createProxy(event) {\n    var key, proxy = { originalEvent: event }\n    for (key in event)\n      if (!ignoreProperties.test(key) && event[key] !== undefined) proxy[key] = event[key]\n\n    return compatible(proxy, event)\n  }\n\n  $.fn.delegate = function(selector, event, callback){\n    return this.on(event, selector, callback)\n  }\n  $.fn.undelegate = function(selector, event, callback){\n    return this.off(event, selector, callback)\n  }\n\n  $.fn.live = function(event, callback){\n    $(document.body).delegate(this.selector, event, callback)\n    return this\n  }\n  $.fn.die = function(event, callback){\n    $(document.body).undelegate(this.selector, event, callback)\n    return this\n  }\n\n  $.fn.on = function(event, selector, data, callback, one){\n    var autoRemove, delegator, $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.on(type, selector, data, fn, one)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = data, data = selector, selector = undefined\n    if (isFunction(data) || data === false)\n      callback = data, data = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(_, element){\n      if (one) autoRemove = function(e){\n        remove(element, e.type, callback)\n        return callback.apply(this, arguments)\n      }\n\n      if (selector) delegator = function(e){\n        var evt, match = $(e.target).closest(selector, element).get(0)\n        if (match && match !== element) {\n          evt = $.extend(createProxy(e), {currentTarget: match, liveFired: element})\n          return (autoRemove || callback).apply(match, [evt].concat(slice.call(arguments, 1)))\n        }\n      }\n\n      add(element, event, callback, data, selector, delegator || autoRemove)\n    })\n  }\n  $.fn.off = function(event, selector, callback){\n    var $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.off(type, selector, fn)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = selector, selector = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(){\n      remove(this, event, callback, selector)\n    })\n  }\n\n  $.fn.trigger = function(event, args){\n    event = (isString(event) || $.isPlainObject(event)) ? $.Event(event) : compatible(event)\n    event._args = args\n    return this.each(function(){\n      // items in the collection might not be DOM elements\n      if('dispatchEvent' in this) this.dispatchEvent(event)\n      else $(this).triggerHandler(event, args)\n    })\n  }\n\n  // triggers event handlers on current element just as if an event occurred,\n  // doesn't trigger an actual event, doesn't bubble\n  $.fn.triggerHandler = function(event, args){\n    var e, result\n    this.each(function(i, element){\n      e = createProxy(isString(event) ? $.Event(event) : event)\n      e._args = args\n      e.target = element\n      $.each(findHandlers(element, event.type || event), function(i, handler){\n        result = handler.proxy(e)\n        if (e.isImmediatePropagationStopped()) return false\n      })\n    })\n    return result\n  }\n\n  // shortcut methods for `.bind(event, fn)` for each event type\n  ;('focusin focusout load resize scroll unload click dblclick '+\n  'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave '+\n  'change select keydown keypress keyup error').split(' ').forEach(function(event) {\n    $.fn[event] = function(callback) {\n      return callback ?\n        this.bind(event, callback) :\n        this.trigger(event)\n    }\n  })\n\n  ;['focus', 'blur'].forEach(function(name) {\n    $.fn[name] = function(callback) {\n      if (callback) this.bind(name, callback)\n      else this.each(function(){\n        try { this[name]() }\n        catch(e) {}\n      })\n      return this\n    }\n  })\n\n  $.Event = function(type, props) {\n    if (!isString(type)) props = type, type = props.type\n    var event = document.createEvent(specialEvents[type] || 'Events'), bubbles = true\n    if (props) for (var name in props) (name == 'bubbles') ? (bubbles = !!props[name]) : (event[name] = props[name])\n    event.initEvent(type, bubbles, true)\n    return compatible(event)\n  }\n\n})(Zepto)\n\n;(function($){\n  var jsonpID = 0,\n      document = window.document,\n      key,\n      name,\n      rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\n      scriptTypeRE = /^(?:text|application)\\/javascript/i,\n      xmlTypeRE = /^(?:text|application)\\/xml/i,\n      jsonType = 'application/json',\n      htmlType = 'text/html',\n      blankRE = /^\\s*$/\n\n  // trigger a custom event and return false if it was cancelled\n  function triggerAndReturn(context, eventName, data) {\n    var event = $.Event(eventName)\n    $(context).trigger(event, data)\n    return !event.isDefaultPrevented()\n  }\n\n  // trigger an Ajax \"global\" event\n  function triggerGlobal(settings, context, eventName, data) {\n    if (settings.global) return triggerAndReturn(context || document, eventName, data)\n  }\n\n  // Number of active Ajax requests\n  $.active = 0\n\n  function ajaxStart(settings) {\n    if (settings.global && $.active++ === 0) triggerGlobal(settings, null, 'ajaxStart')\n  }\n  function ajaxStop(settings) {\n    if (settings.global && !(--$.active)) triggerGlobal(settings, null, 'ajaxStop')\n  }\n\n  // triggers an extra global event \"ajaxBeforeSend\" that's like \"ajaxSend\" but cancelable\n  function ajaxBeforeSend(xhr, settings) {\n    var context = settings.context\n    if (settings.beforeSend.call(context, xhr, settings) === false ||\n        triggerGlobal(settings, context, 'ajaxBeforeSend', [xhr, settings]) === false)\n      return false\n\n    triggerGlobal(settings, context, 'ajaxSend', [xhr, settings])\n  }\n  function ajaxSuccess(data, xhr, settings, deferred) {\n    var context = settings.context, status = 'success'\n    settings.success.call(context, data, status, xhr)\n    if (deferred) deferred.resolveWith(context, [data, status, xhr])\n    triggerGlobal(settings, context, 'ajaxSuccess', [xhr, settings, data])\n    ajaxComplete(status, xhr, settings)\n  }\n  // type: \"timeout\", \"error\", \"abort\", \"parsererror\"\n  function ajaxError(error, type, xhr, settings, deferred) {\n    var context = settings.context\n    settings.error.call(context, xhr, type, error)\n    if (deferred) deferred.rejectWith(context, [xhr, type, error])\n    triggerGlobal(settings, context, 'ajaxError', [xhr, settings, error || type])\n    ajaxComplete(type, xhr, settings)\n  }\n  // status: \"success\", \"notmodified\", \"error\", \"timeout\", \"abort\", \"parsererror\"\n  function ajaxComplete(status, xhr, settings) {\n    var context = settings.context\n    settings.complete.call(context, xhr, status)\n    triggerGlobal(settings, context, 'ajaxComplete', [xhr, settings])\n    ajaxStop(settings)\n  }\n\n  // Empty function, used as default callback\n  function empty() {}\n\n  $.ajaxJSONP = function(options, deferred){\n    if (!('type' in options)) return $.ajax(options)\n\n    var _callbackName = options.jsonpCallback,\n      callbackName = ($.isFunction(_callbackName) ?\n        _callbackName() : _callbackName) || ('jsonp' + (++jsonpID)),\n      script = document.createElement('script'),\n      originalCallback = window[callbackName],\n      responseData,\n      abort = function(errorType) {\n        $(script).triggerHandler('error', errorType || 'abort')\n      },\n      xhr = { abort: abort }, abortTimeout\n\n    if (deferred) deferred.promise(xhr)\n\n    $(script).on('load error', function(e, errorType){\n      clearTimeout(abortTimeout)\n      $(script).off().remove()\n\n      if (e.type == 'error' || !responseData) {\n        ajaxError(null, errorType || 'error', xhr, options, deferred)\n      } else {\n        ajaxSuccess(responseData[0], xhr, options, deferred)\n      }\n\n      window[callbackName] = originalCallback\n      if (responseData && $.isFunction(originalCallback))\n        originalCallback(responseData[0])\n\n      originalCallback = responseData = undefined\n    })\n\n    if (ajaxBeforeSend(xhr, options) === false) {\n      abort('abort')\n      return xhr\n    }\n\n    window[callbackName] = function(){\n      responseData = arguments\n    }\n\n    script.src = options.url.replace(/\\?(.+)=\\?/, '?$1=' + callbackName)\n    document.head.appendChild(script)\n\n    if (options.timeout > 0) abortTimeout = setTimeout(function(){\n      abort('timeout')\n    }, options.timeout)\n\n    return xhr\n  }\n\n  $.ajaxSettings = {\n    // Default type of request\n    type: 'GET',\n    // Callback that is executed before request\n    beforeSend: empty,\n    // Callback that is executed if the request succeeds\n    success: empty,\n    // Callback that is executed the the server drops error\n    error: empty,\n    // Callback that is executed on request complete (both: error and success)\n    complete: empty,\n    // The context for the callbacks\n    context: null,\n    // Whether to trigger \"global\" Ajax events\n    global: true,\n    // Transport\n    xhr: function () {\n      return new window.XMLHttpRequest()\n    },\n    // MIME types mapping\n    // IIS returns Javascript as \"application/x-javascript\"\n    accepts: {\n      script: 'text/javascript, application/javascript, application/x-javascript',\n      json:   jsonType,\n      xml:    'application/xml, text/xml',\n      html:   htmlType,\n      text:   'text/plain'\n    },\n    // Whether the request is to another domain\n    crossDomain: false,\n    // Default timeout\n    timeout: 0,\n    // Whether data should be serialized to string\n    processData: true,\n    // Whether the browser should be allowed to cache GET responses\n    cache: true\n  }\n\n  function mimeToDataType(mime) {\n    if (mime) mime = mime.split(';', 2)[0]\n    return mime && ( mime == htmlType ? 'html' :\n      mime == jsonType ? 'json' :\n      scriptTypeRE.test(mime) ? 'script' :\n      xmlTypeRE.test(mime) && 'xml' ) || 'text'\n  }\n\n  function appendQuery(url, query) {\n    if (query == '') return url\n    return (url + '&' + query).replace(/[&?]{1,2}/, '?')\n  }\n\n  // serialize payload and append it to the URL for GET requests\n  function serializeData(options) {\n    if (options.processData && options.data && $.type(options.data) != \"string\")\n      options.data = $.param(options.data, options.traditional)\n    if (options.data && (!options.type || options.type.toUpperCase() == 'GET'))\n      options.url = appendQuery(options.url, options.data), options.data = undefined\n  }\n\n  $.ajax = function(options){\n    var settings = $.extend({}, options || {}),\n        deferred = $.Deferred && $.Deferred()\n    for (key in $.ajaxSettings) if (settings[key] === undefined) settings[key] = $.ajaxSettings[key]\n\n    ajaxStart(settings)\n\n    if (!settings.crossDomain) settings.crossDomain = /^([\\w-]+:)?\\/\\/([^\\/]+)/.test(settings.url) &&\n      RegExp.$2 != window.location.host\n\n    if (!settings.url) settings.url = window.location.toString()\n    serializeData(settings)\n    if (settings.cache === false) settings.url = appendQuery(settings.url, '_=' + Date.now())\n\n    var dataType = settings.dataType, hasPlaceholder = /\\?.+=\\?/.test(settings.url)\n    if (dataType == 'jsonp' || hasPlaceholder) {\n      if (!hasPlaceholder)\n        settings.url = appendQuery(settings.url,\n          settings.jsonp ? (settings.jsonp + '=?') : settings.jsonp === false ? '' : 'callback=?')\n      return $.ajaxJSONP(settings, deferred)\n    }\n\n    var mime = settings.accepts[dataType],\n        headers = { },\n        setHeader = function(name, value) { headers[name.toLowerCase()] = [name, value] },\n        protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : window.location.protocol,\n        xhr = settings.xhr(),\n        nativeSetHeader = xhr.setRequestHeader,\n        abortTimeout\n\n    if (deferred) deferred.promise(xhr)\n\n    if (!settings.crossDomain) setHeader('X-Requested-With', 'XMLHttpRequest')\n    setHeader('Accept', mime || '*/*')\n    if (mime = settings.mimeType || mime) {\n      if (mime.indexOf(',') > -1) mime = mime.split(',', 2)[0]\n      xhr.overrideMimeType && xhr.overrideMimeType(mime)\n    }\n    if (settings.contentType || (settings.contentType !== false && settings.data && settings.type.toUpperCase() != 'GET'))\n      setHeader('Content-Type', settings.contentType || 'application/x-www-form-urlencoded')\n\n    if (settings.headers) for (name in settings.headers) setHeader(name, settings.headers[name])\n    xhr.setRequestHeader = setHeader\n\n    xhr.onreadystatechange = function(){\n      if (xhr.readyState == 4) {\n        xhr.onreadystatechange = empty\n        clearTimeout(abortTimeout)\n        var result, error = false\n        if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304 || (xhr.status == 0 && protocol == 'file:')) {\n          dataType = dataType || mimeToDataType(settings.mimeType || xhr.getResponseHeader('content-type'))\n          result = xhr.responseText\n\n          try {\n            // http://perfectionkills.com/global-eval-what-are-the-options/\n            if (dataType == 'script')    (1,eval)(result)\n            else if (dataType == 'xml')  result = xhr.responseXML\n            else if (dataType == 'json') result = blankRE.test(result) ? null : $.parseJSON(result)\n          } catch (e) { error = e }\n\n          if (error) ajaxError(error, 'parsererror', xhr, settings, deferred)\n          else ajaxSuccess(result, xhr, settings, deferred)\n        } else {\n          ajaxError(xhr.statusText || null, xhr.status ? 'error' : 'abort', xhr, settings, deferred)\n        }\n      }\n    }\n\n    if (ajaxBeforeSend(xhr, settings) === false) {\n      xhr.abort()\n      ajaxError(null, 'abort', xhr, settings, deferred)\n      return xhr\n    }\n\n    if (settings.xhrFields) for (name in settings.xhrFields) xhr[name] = settings.xhrFields[name]\n\n    var async = 'async' in settings ? settings.async : true\n    xhr.open(settings.type, settings.url, async, settings.username, settings.password)\n\n    for (name in headers) nativeSetHeader.apply(xhr, headers[name])\n\n    if (settings.timeout > 0) abortTimeout = setTimeout(function(){\n        xhr.onreadystatechange = empty\n        xhr.abort()\n        ajaxError(null, 'timeout', xhr, settings, deferred)\n      }, settings.timeout)\n\n    // avoid sending empty string (#319)\n    xhr.send(settings.data ? settings.data : null)\n    return xhr\n  }\n\n  // handle optional data/success arguments\n  function parseArguments(url, data, success, dataType) {\n    if ($.isFunction(data)) dataType = success, success = data, data = undefined\n    if (!$.isFunction(success)) dataType = success, success = undefined\n    return {\n      url: url\n    , data: data\n    , success: success\n    , dataType: dataType\n    }\n  }\n\n  $.get = function(/* url, data, success, dataType */){\n    return $.ajax(parseArguments.apply(null, arguments))\n  }\n\n  $.post = function(/* url, data, success, dataType */){\n    var options = parseArguments.apply(null, arguments)\n    options.type = 'POST'\n    return $.ajax(options)\n  }\n\n  $.getJSON = function(/* url, data, success */){\n    var options = parseArguments.apply(null, arguments)\n    options.dataType = 'json'\n    return $.ajax(options)\n  }\n\n  $.fn.load = function(url, data, success){\n    if (!this.length) return this\n    var self = this, parts = url.split(/\\s/), selector,\n        options = parseArguments(url, data, success),\n        callback = options.success\n    if (parts.length > 1) options.url = parts[0], selector = parts[1]\n    options.success = function(response){\n      self.html(selector ?\n        $('<div>').html(response.replace(rscript, \"\")).find(selector)\n        : response)\n      callback && callback.apply(self, arguments)\n    }\n    $.ajax(options)\n    return this\n  }\n\n  var escape = encodeURIComponent\n\n  function serialize(params, obj, traditional, scope){\n    var type, array = $.isArray(obj), hash = $.isPlainObject(obj)\n    $.each(obj, function(key, value) {\n      type = $.type(value)\n      if (scope) key = traditional ? scope :\n        scope + '[' + (hash || type == 'object' || type == 'array' ? key : '') + ']'\n      // handle data in serializeArray() format\n      if (!scope && array) params.add(value.name, value.value)\n      // recurse into nested objects\n      else if (type == \"array\" || (!traditional && type == \"object\"))\n        serialize(params, value, traditional, key)\n      else params.add(key, value)\n    })\n  }\n\n  $.param = function(obj, traditional){\n    var params = []\n    params.add = function(k, v){ this.push(escape(k) + '=' + escape(v)) }\n    serialize(params, obj, traditional)\n    return params.join('&').replace(/%20/g, '+')\n  }\n})(Zepto)\n\n;(function($){\n  $.fn.serializeArray = function() {\n    var result = [], el\n    $([].slice.call(this.get(0).elements)).each(function(){\n      el = $(this)\n      var type = el.attr('type')\n      if (this.nodeName.toLowerCase() != 'fieldset' &&\n        !this.disabled && type != 'submit' && type != 'reset' && type != 'button' &&\n        ((type != 'radio' && type != 'checkbox') || this.checked))\n        result.push({\n          name: el.attr('name'),\n          value: el.val()\n        })\n    })\n    return result\n  }\n\n  $.fn.serialize = function(){\n    var result = []\n    this.serializeArray().forEach(function(elm){\n      result.push(encodeURIComponent(elm.name) + '=' + encodeURIComponent(elm.value))\n    })\n    return result.join('&')\n  }\n\n  $.fn.submit = function(callback) {\n    if (callback) this.bind('submit', callback)\n    else if (this.length) {\n      var event = $.Event('submit')\n      this.eq(0).trigger(event)\n      if (!event.isDefaultPrevented()) this.get(0).submit()\n    }\n    return this\n  }\n\n})(Zepto)\n\n;(function($){\n  // __proto__ doesn't exist on IE<11, so redefine\n  // the Z function to use object extension instead\n  if (!('__proto__' in {})) {\n    $.extend($.zepto, {\n      Z: function(dom, selector){\n        dom = dom || []\n        $.extend(dom, $.fn)\n        dom.selector = selector || ''\n        dom.__Z = true\n        return dom\n      },\n      // this is a kludge but works\n      isZ: function(object){\n        return $.type(object) === 'array' && '__Z' in object\n      }\n    })\n  }\n\n  // getComputedStyle shouldn't freak out when called\n  // without a valid element as argument\n  try {\n    getComputedStyle(undefined)\n  } catch(e) {\n    var nativeGetComputedStyle = getComputedStyle;\n    window.getComputedStyle = function(element){\n      try {\n        return nativeGetComputedStyle(element)\n      } catch(e) {\n        return null\n      }\n    }\n  }\n})(Zepto)\n},{}]},{},[1])"],"file":"vendor/podlove-subscribe-button.js","sourceRoot":"/source/"}